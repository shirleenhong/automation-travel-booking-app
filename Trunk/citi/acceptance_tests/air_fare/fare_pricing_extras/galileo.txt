*** Settings ***
Force Tags        galileo    apac    fare_pricing_extras
Resource          ../air_fare_verifications.txt
Resource          ../../../acceptance_tests/air_fare/air_fare_verifications.txt
Resource          ../../gds/gds_verifications.txt

*** Test Cases ***
[NB AU] Verify That Correct Offline Transaction Fee Remarks Are Written In The DI Lines For Domestic, Tasman Or Internation Flight
    [Tags]    citi    us1101    us251
    Transaction Fee Data In Powerbase
    Open Power Express And Retrieve Profile    ${version}    Test    U003JDC    en-GB    jcabela    CITI APAC
    Select GDS    Galileo
    Set Client And Traveler    Citigroup ¦ Citi AU    BEAR    LEN
    Click New Booking
    Click Panel    Cust Refs
    Tick Not Known At Time Of Booking    Tick
    Click Panel    Client Info
    Manually Set Value In Form Of Payment    VI    4444333322221111    1220
    Click Update PNR
    Book Flight X Months From Now    MELSYD*QF    01Y1    FQS1    6    5
    Book Flight X Months From Now    SYDAKL*QF    01Y1    FQS2    6    10
    Book Flight X Months From Now    AKLSIN*NZ    01Y1    FQS3    6    15
    Click Read Booking
    Populate Fare Tab With Default Values    Fare 1
    Set LFCC Field    QF
    Get Route Code Value    Fare 1
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Verify Transaction Fee Amount Is Retrieved In Pricing Extras    Fare 1    AU    Offline    Non-OBT
    Populate Fare Tab With Default Values    Fare 2
    Set LFCC Field    QF
    Get Route Code Value    Fare 2
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Verify Transaction Fee Amount Is Retrieved In Pricing Extras    Fare 2    AU    Offline    Non-OBT
    Populate Fare Tab With Default Values    Fare 3
    Set LFCC Field    NZ
    Get Route Code Value    Fare 3
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Verify Transaction Fee Amount Is Retrieved In Pricing Extras    Fare 3    AU    Offline    Non-OBT
    Populate All Panels (Except Given Panels If Any)    Air Fare
    Enter GDS Command    NP.BT*CBK
    Enter GDS Command    DI.FT-FF34/EB
    Enter GDS Command    DI.FT-FF35/CBK
    Enter GDS Command    DI.FT-FF36/S
    Click Finish PNR
    Retrieve PNR Details From Travelport    ${current_pnr}
    #Accounting Lines (DI)
    Verify Transaction Fee Remarks Are Written In The DI Lines    Fare 1    Offline    ${route_code_1}    QF    Non-OBT    AU
    Verify Transaction Fee Remarks Are Written In The DI Lines    Fare 2    Offline    ${route_code_2}    QF    Non-OBT    AU
    Verify Transaction Fee Remarks Are Written In The DI Lines    Fare 3    Offline    ${route_code_3}    NZ    Non-OBT    AU
    #Itinerary Lines (RI)
    Verify Transaction Fee Remark Is Written In The RI Lines    Fare 1    AU    Offline    Non-OBT
    Verify Transaction Fee Remark Is Written In The RI Lines    Fare 2    AU    Offline    Non-OBT
    Verify Transaction Fee Remark Is Written In The RI Lines    Fare 3    AU    Offline    Non-OBT

[AB AU] Verify That Correct Offline Transaction Fee Remarks Are Written In The DI Lines For Domestic, Tasman Or International Flight
    [Tags]    citi    us1101    us251
    Transaction Fee Data In Powerbase
    Retrieve PNR    ${current_pnr}
    Click Amend Booking
    Click Read Booking
    Populate Fare Tab With Default Values    Fare 1
    Set LFCC Field    QF
    Get Route Code Value    Fare 1
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Verify Transaction Fee Amount Is Retrieved In Pricing Extras    Fare 1    AU    Online    OBT
    Populate Fare Tab With Default Values    Fare 2
    Set LFCC Field    QF
    Get Route Code Value    Fare 2
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Verify Transaction Fee Amount Is Retrieved In Pricing Extras    Fare 2    AU    Online    OBT
    Populate Fare Tab With Default Values    Fare 3
    Set LFCC Field    NZ
    Get Route Code Value    Fare 3
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Verify Transaction Fee Amount Is Retrieved In Pricing Extras    Fare 3    AU    Online    OBT
    Populate All Panels (Except Given Panels If Any)    Air Fare
    Click Finish PNR
    Re-Execute Amend Booking Workflow For Verify That Correct Offline Transaction Fee Remarks Are Written In The DI Lines For Domestic, Tasman Or International Flight For AU If Simultaneous Change Error Is Displayed
    Retrieve PNR Details From Travelport    ${current_pnr}
    #Accounting Lines (DI)
    Verify Transaction Fee Remarks Are Written In The DI Lines    Fare 1    Online    ${route_code_1}    QF    OBT    AU
    Verify Transaction Fee Remarks Are Written In The DI Lines    Fare 2    Online    ${route_code_2}    QF    OBT    AU
    Verify Transaction Fee Remarks Are Written In The DI Lines    Fare 3    Online    ${route_code_3}    NZ    OBT    AU
    #Itinerary Lines (RI)
    Verify Transaction Fee Remark Is Written In The RI Lines    Fare 1    AU    Online    OBT
    Verify Transaction Fee Remark Is Written In The RI Lines    Fare 2    AU    Online    OBT
    Verify Transaction Fee Remark Is Written In The RI Lines    Fare 3    AU    Online    OBT
    [Teardown]    Cancel PNR Thru GDS Native    ${current_pnr}

[NB NZ] Verify That Correct Offline Transaction Fee Remarks Are Written In The DI Lines For Domestic, Tasman Or Internation Flight
    [Tags]    citi    us1101
    Transaction Fee Data In Powerbase    #Transaction Fee Test Data
    Open Power Express And Retrieve Profile    ${version}    Test    u003axo    en-GB    aobsumapac    CITI APAC
    Enter GDS Command    SEM/34VP/AG
    Select GDS    Galileo
    Set Client And Traveler    Citigroup ¦ NZ-Citi    Bear    Len
    Set Mobile Number    1-1-1
    Click New Booking
    Click Panel    Client Info
    Select Form Of Payment    Cash
    Populate All Panels (Except Given Panels If Any)    Client Info
    Click Update PNR
    Book Flight X Months From Now    AKLWLG/NZ    01Y1    FQS1    9
    Book Flight X Months From Now    WLGSYD/NZ    01Y1    FQS2    9    1
    Book Flight X Months From Now    SYDMNL/PR    01Y1    FQS3    9    5
    Click Read Booking
    Populate Fare Tab With Default Values    Fare 1
    Set LFCC Field    NZ
    Get Route Code Value    Fare 1
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Verify Transaction Fee Amount Is Retrieved In Pricing Extras    Fare 1    NZ    OFFLINE    Non-OBT
    Populate Fare Tab With Default Values    Fare 2
    Set LFCC Field    NZ
    Get Route Code Value    Fare 2
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Verify Transaction Fee Amount Is Retrieved In Pricing Extras    Fare 2    NZ    OFFLINE    Non-OBT
    Populate Fare Tab With Default Values    Fare 3
    Set LFCC Field    QF
    Get Route Code Value    Fare 3
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Verify Transaction Fee Amount Is Retrieved In Pricing Extras    Fare 3    NZ    OFFLINE    Non-OBT
    Populate All Panels (Except Given Panels If Any)    Air Fare
    Click Finish PNR
    Retrieve PNR Details From Travelport    ${current_pnr}
    Verify Transaction Fee Remarks Are Written In The DI Lines    Fare 1    Offline    DOM    NZ    Non-OBT    NZ
    Verify Transaction Fee Remarks Are Written In The DI Lines    Fare 2    Offline    TTAS    NZ    Non-OBT    NZ
    Verify Transaction Fee Remarks Are Written In The DI Lines    Fare 3    Offline    INT    PR    Non-OBT    NZ

[AB NZ] Verify That Correct Offline Transaction Fee Remarks Are Written In The DI Lines For Domestic, Tasman Or International Flight
    [Tags]    citi    us1101
    Transaction Fee Data In Powerbase    #Transaction Fee Test Data
    Enter Exchange Ticket In Native GDS    3
    Retrieve PNR    ${current_pnr}
    Click Amend Booking
    Click Read Booking
    Populate Fare Tab With Default Values    Fare 1
    Set Charged Fare Field    0.00
    Set LFCC Field    NZ
    Get Route Code Value    Fare 1
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Verify Transaction Fee Amount Is Retrieved In Pricing Extras    Fare 1    NZ    Offline    Non-OBT
    Populate Fare Tab With Default Values    Fare 2
    Set Charged Fare Field    0.00
    Set LFCC Field    NZ
    Get Route Code Value    Fare 2
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Verify Transaction Fee Amount Is Retrieved In Pricing Extras    Fare 2    NZ    Exchange    Non-OBT
    Populate Fare Tab With Default Values    Fare 3
    Set Charged Fare Field    0.00
    Set LFCC Field    QF
    Get Route Code Value    Fare 3
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Verify Transaction Fee Amount Is Retrieved In Pricing Extras    Fare 3    NZ    Offline    Non-OBT
    Populate All Panels (Except Given Panels If Any)    Air Fare
    Click Finish PNR
    Re-Execute Amend Booking Workflow For Verify That Correct Offline Transaction Fee Remarks Are Written In The DI Lines For Domestic, Tasman Or International Flight For NZ If Simultaneous Change Error Is Displayed
    Retrieve PNR Details From Travelport    ${current_pnr}
    Verify Transaction Fee Remarks Are Written In The DI Lines    Fare 1    Offline    DOM    NZ    Non-OBT    NZ
    ...    Exchange
    Verify Transaction Fee Remarks Are Written In The DI Lines    Fare 2    Exchange    TTAS    NZ    Non-OBT    NZ
    ...    Exchange
    Verify Transaction Fee Remarks Are Written In The DI Lines    Fare 3    Offline    INT    PR    Non-OBT    NZ
    ...    Exchange
    [Teardown]    Cancel PNR Thru GDS Native    ${current_pnr}

[NB MY] Verify That Correct Offline Transaction Fee Remarks Are Written In The DI and RI Lines For Domestic Or Internation Flight
    [Tags]    citi    us1514
    Transaction Fee Data In Powerbase    #Transaction Fee Test Data
    Open Power Express And Retrieve Profile    ${version}    Test    U004HXC    en-GB    hcuellar    CITI APAC
    Select GDS    Galileo
    Enter Specific Command On Native GDS    SEM/34RY/AG
    Set Client And Traveler    Citigroup ¦ MY-Citigroup    BEAR    LEN
    Click Contact Tab In Caller Panel
    Set Mobile Number    1-1-1
    Click New Booking
    Click Panel    Client Info
    Manually Set Value In Form Of Payment    VI    4444333322221111    1220
    Book Flight X Months From Now    PENKUL*MH    01Y1    FQS1    6    7
    Book Flight X Months From Now    PENSIN*MI    01Y1    FQS2    6    17
    Click Read Booking
    Populate Fare Tab With Default Values    Fare 1
    Set LFCC Field    MH
    Get Route Code Value    Fare 1
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Verify Transaction Fee Amount Is Retrieved In Pricing Extras    Fare 1    MY    Offline    Non-OBT
    Populate Fare Tab With Default Values    Fare 2
    Set LFCC Field    MH
    Get Route Code Value    Fare 2
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Verify Transaction Fee Amount Is Retrieved In Pricing Extras    Fare 2    MY    Offline    Non-OBT
    Populate All Panels (Except Given Panels If Any)    Air Fare
    Click Finish PNR
    Retrieve PNR Details From Travelport    ${current_pnr}
    #Accounting Lines (DI)
    Verify Transaction Fee Remarks Are Written In The DI Lines    Fare 1    Offline    ${route_code_1}    MH    Non-OBT    MY
    Verify Transaction Fee Remarks Are Written In The DI Lines    Fare 2    Offline    ${route_code_2}    MI    Non-OBT    MY
    #Itinerary Lines (RI)
    Verify Transaction Fee Remark Is Written In The RI Lines    Fare 1    MY    Offline    Non-OBT
    Verify Transaction Fee Remark Is Written In The RI Lines    Fare 2    MY    Offline    Non-OBT

[AB MY] Verify That Correct Offline Transaction Fee Remarks Are Written In The DI and RI Lines For Domestic Or Internation Flight
    [Tags]    citi    us1514
    Transaction Fee Data In Powerbase    #Transaction Fee Test Data
    Retrieve PNR    ${current_pnr}
    Click Amend Booking
    Click Read Booking
    Populate Fare Tab With Default Values    Fare 1
    Set LFCC Field    MH
    Get Route Code Value    Fare 1
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Verify Transaction Fee Amount Is Retrieved In Pricing Extras    Fare 1    MY    Offline    Non-OBT
    Populate Fare Tab With Default Values    Fare 2
    Set LFCC Field    MH
    Get Route Code Value    Fare 2
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Verify Transaction Fee Amount Is Retrieved In Pricing Extras    Fare 2    MY    Offline    Non-OBT
    Populate All Panels (Except Given Panels If Any)    Air Fare
    Enter GDS Command    IR    IR
    Click Finish PNR
    Re-Execute Amend Booking Workflow For Verify That Correct Offline Transaction Fee Remarks Are Written In The DI and RI Lines For Domestic Or Internation Flight For MY If Simultaneous Change Error Is Displayed
    Retrieve PNR Details From Travelport    ${current_pnr}
    #Accounting Lines (DI)
    Verify Transaction Fee Remarks Are Written In The DI Lines    Fare 1    Offline    ${route_code_1}    MH    Non-OBT    MY
    Verify Transaction Fee Remarks Are Written In The DI Lines    Fare 2    Offline    ${route_code_2}    MI    Non-OBT    MY
    #Itinerary Lines (RI)
    Verify Transaction Fee Remark Is Written In The RI Lines    Fare 1    MY    Offline    Non-OBT
    Verify Transaction Fee Remark Is Written In The RI Lines    Fare 2    MY    Offline    Non-OBT
    [Teardown]    Cancel PNR Thru GDS Native    ${current_pnr}

[NB NZ] Verify That Transaction Fee Remarks Are Not Written In The DI Lines When Transaction value is '0.00' or Blank
    [Tags]    citi    us1101
    Transaction Fee Data In Powerbase    #Transaction Fee Test Data
    Open Power Express And Retrieve Profile    ${version}    Test    U004HXC    en-GB    hcuellar    CITI APAC
    Enter GDS Command    SEM/34VP/AG
    Select GDS    Galileo
    Set Client And Traveler    Citigroup ¦ NZ-Citi    ANG    SWEE
    Set Mobile Number    1-1-1
    Click New Booking
    Populate All Panels (Except Given Panels If Any)
    Click Panel    Client Info
    Select Form Of Payment    Cash
    Click Update PNR
    Book Flight X Months From Now    AKLWLG*NZ    01Y1    FQS1    6
    Book Flight X Months From Now    MELAKL/NZ    01Y1*    FQS2    6    5
    Book Flight X Months From Now    AKLHKG/NZ    01Y1*    FQS3    6    9
    Click Read Booking
    Populate Fare Tab With Default Values    Fare 1
    Set LFCC Field    QF
    Get Route Code Value    Fare 1
    Click Pricing Extras Tab
    Set Transaction Fee    0.00
    Get Transaction Fee Amount Value    Fare 1
    Populate Fare Tab With Default Values    Fare 2
    Set LFCC Field    QF
    Get Route Code Value    Fare 2
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Set Transaction Fee    0.00
    Get Transaction Fee Amount Value    Fare 2
    Populate Fare Tab With Default Values    Fare 3
    Set LFCC Field    QF
    Get Route Code Value    Fare 3
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Set Transaction Fee    0
    Get Transaction Fee Amount Value    Fare 3
    Click Add Alternate Fare
    Populate Alternate Fare Details Using Copy Air Button    YB    555    NA - Published Fare
    Click Fare Tab    Fare 1
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Click Fare Tab    Fare 2
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Click Fare Tab    Fare 3
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate All Panels (Except Given Panels If Any)    Air Fare
    Click Finish PNR
    Retrieve PNR Details From Travelport    ${current_pnr}
    Verify Transaction Fee Remarks Are Not Written In The DI Lines    Fare 1    Offline    DOM    NZ    Non-OBT    NZ
    Verify Transaction Fee Remarks Are Not Written In The DI Lines    Fare 2    Offline    TTAS    NZ    Non-OBT    NZ
    Verify Transaction Fee Remarks Are Not Written In The DI Lines    Fare 3    Offline    INT    NZ    Non-OBT    NZ
    [Teardown]    Cancel PNR Thru GDS Native    ${current_pnr}

[NB NZ] Verify That GST Is Written With The Correct Amount For International, Domestic And Tasman
    [Tags]    citi    us812
    Open Power Express And Retrieve Profile    ${version}    Test    U004HXC    en-GB    hcuellar    CITI APAC
    Enter GDS Command    SEM/34VP/AG
    Select GDS    Galileo
    Set Client And Traveler    Citigroup ¦ NZ-Citi    ANG    SWEE
    Set Mobile Number    1-1-1
    Click New Booking
    Populate All Panels (Except Given Panels If Any)
    Click Panel    Client Info
    Select Form Of Payment    Cash
    Click Update PNR
    Book Flight X Months From Now    AKLWLG*NZ    01Y1    FQS1    6
    Book Flight X Months From Now    MELAKL/NZ    01Y1*    FQS2    6    5
    Book Flight X Months From Now    AKLHKG/NZ    01Y1*    FQS3    6    9
    Click Read Booking
    Populate Fare Tab With Default Values    Fare 1
    Set LFCC Field    QF
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate Fare Tab With Default Values    Fare 2
    Set LFCC Field    QF
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate Fare Tab With Default Values    Fare 3
    Set LFCC Field    QF
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Comment    Click Add Alternate Fare
    Comment    Populate Alternate Fare Details Using Copy Air Button    YB    555    NA - Published Fare
    Populate All Panels (Except Given Panels If Any)    Air Fare
    Click Finish PNR
    Retrieve PNR Details From Travelport    ${current_pnr}    *FFALL
    Get Base Fare And Tax From Galileo For Fare X Tab    Fare 1
    Get Base Fare And Tax From Galileo For Fare X Tab    Fare 2
    Get Base Fare And Tax From Galileo For Fare X Tab    Fare 3
    Retrieve PNR Details From Travelport    ${current_pnr}
    Verify GST Remark Is Written In The RI Lines If Applicable    Fare 1
    Verify GST Remark Is Written In The RI Lines If Applicable    Fare 2
    Verify GST Remark Is Written In The RI Lines If Applicable    Fare 3

[AB NZ] Verify That GST Is Written With The Correct Amount For International, Domestic And Tasman
    [Tags]    citi    us812
    Retrieve PNR    ${current_pnr}
    Click Amend Booking
    Click Read Booking
    Populate Fare Tab With Default Values    Fare 1
    Set LFCC Field    QF
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate Fare Tab With Default Values    Fare 2
    Set LFCC Field    QF
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate Fare Tab With Default Values    Fare 3
    Set LFCC Field    QF
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate All Panels (Except Given Panels If Any)    Air Fare
    Click Finish PNR
    Re-Execute Amend Booking Workflow For Verify That GST Is Written With The Correct Amount For International, Domestic And Tasman For NZ If Simultaneous Change Error Is Displayed
    Retrieve PNR Details From Travelport    ${current_pnr}    *FFALL
    Get Base Fare And Tax From Galileo For Fare X Tab    Fare 1
    Retrieve PNR Details From Travelport    ${current_pnr}
    Verify GST Remark Is Written In The RI Lines If Applicable    Fare 1
    [Teardown]    Cancel PNR Thru GDS Native    ${current_pnr}

[NB AU] Verify That GST Is Written With The Correct Amount For International, Domestic And Tasman
    [Tags]    citi    us812
    Open Power Express And Retrieve Profile    ${version}    Test    U004HXC    en-GB    hcuellar    CITI APAC
    Select GDS    Galileo
    Enter Specific Command On Native GDS    SEM/34RP/AG
    Set Client And Traveler    Citigroup ¦ Citi AU    TEST    DEBORAH
    Set Mobile Number    1-1-1
    Click New Booking
    Populate All Panels (Except Given Panels If Any)    Client Info
    Click Update PNR
    Book Flight X Months From Now    SYDMEL/QF    01Y1    FQS1    6
    Book Flight X Months From Now    MELAKL/QF    01Y1*    FQS2    6    5
    Book Flight X Months From Now    AKLHKG/NZ    01Y1*    FQS3    6    9
    Click Read Booking
    Populate Fare Tab With Default Values    Fare 1
    Set LFCC Field    QF
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate Fare Tab With Default Values    Fare 2
    Set LFCC Field    QF
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate Fare Tab With Default Values    Fare 3
    Set LFCC Field    QF
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Click Add Alternate Fare
    Populate Alternate Fare Details Using Copy Air Button    YB    555    NA - Published Fare
    Populate All Panels (Except Given Panels If Any)    Air Fare
    Click Finish PNR
    Retrieve PNR Details From Travelport    ${current_pnr}    *FFALL
    Get Base Fare And Tax From Galileo For Fare X Tab    Fare 1
    Retrieve PNR Details From Travelport    ${current_pnr}
    Verify GST Remark Is Written In The RI Lines If Applicable    Fare 1

[AB AU] Verify That GST Is Written With The Correct Amount For International, Domestic And Tasman
    [Tags]    citi    us812
    Retrieve PNR    ${current_pnr}
    Click Amend Booking
    Enter Specific Command On Native GDS    FXALL    XI
    Book Flight X Months From Now    SYDMEL*QF    01Y1*    FQS1    6
    Book Flight X Months From Now    MELSYD*QF    01Y1    FQS2    6    5
    Book Flight X Months From Now    SYDBNE*QF    01Y1    FQS3    6    9
    Click Read Booking
    Populate Fare Tab With Default Values    Fare 1
    Set LFCC Field    QF
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate Fare Tab With Default Values    Fare 2
    Set LFCC Field    QF
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate Fare Tab With Default Values    Fare 3
    Set LFCC Field    QF
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate All Panels (Except Given Panels If Any)    Air Fare
    Click Finish PNR
    Re-Execute Amend Booking Workflow For Verify That GST Is Written With The Correct Amount For International, Domestic And Tasman For NZ If Simultaneous Change Error Is Displayed
    Retrieve PNR Details From Travelport    ${current_pnr}    *FFALL
    Get Base Fare And Tax From Galileo For Fare X Tab    Fare 1
    Get Base Fare And Tax From Galileo For Fare X Tab    Fare 2
    Get Base Fare And Tax From Galileo For Fare X Tab    Fare 3
    Retrieve PNR Details From Travelport    ${current_pnr}
    Verify GST Remark Is Written In The RI Lines If Applicable    Fare 1
    Verify GST Remark Is Written In The RI Lines If Applicable    Fare 2
    Verify GST Remark Is Written In The RI Lines If Applicable    Fare 3
    [Teardown]    Cancel PNR Thru GDS Native    ${current_pnr}

[NB AU] Verify That GST Amount Is Included In Total Taxes If Route Code Is Not DOM (Domestic)
    [Tags]    citi    us1251
    Open Power Express And Retrieve Profile    ${version}    Test    u003axo    en-GB    aobsumapac    CITI APAC
    Enter GDS Command    SEM/34RP/AG
    Select GDS    Galileo
    Set Client And Traveler    Citigroup ¦ Citi AU    TEST    LEN
    Click New Booking
    Click Panel    Client Info
    Manually Set Value In Form Of Payment    VI    4444333322221111    1222
    Populate All Panels (Except Given Panels If Any)    Client Info
    Click Update PNR
    Book Flight X Months From Now    SYDMEL*QF    01Y1    FQS1    6    7
    Book Flight X Months From Now    MELSYD/QF    01Y1*    FQS2    6    12
    Book Flight X Months From Now    AKLHKG/NZ    01Y1    FQS3    6    17
    Click Read Booking
    Populate Fare Tab With Default Values    Fare 1
    Set LFCC Field    QF
    Verify Route Code Value Is Correct    Fare 1    DOM
    Select Route Code Value    INT
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate Fare Tab With Default Values    Fare 2
    Set LFCC Field    QF
    Verify Route Code Value Is Correct    Fare 2    DOM
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate Fare Tab With Default Values    Fare 3
    Set LFCC Field    QF
    Verify Route Code Value Is Correct    Fare 3    INT
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate All Panels (Except Given Panels If Any)    Air Fare
    Click Finish PNR
    Retrieve PNR Details From Travelport    ${current_pnr}    *FFALL
    Get Base Fare And Tax From Galileo For Fare X Tab    Fare 1
    Get Base Fare And Tax From Galileo For Fare X Tab    Fare 2
    Get Base Fare And Tax From Galileo For Fare X Tab    Fare 3
    Retrieve PNR Details From Travelport    ${current_pnr}
    Verify Tax Remark Is Written In The RI Lines    Fare 1    INT
    Verify Tax Remark Is Written In The RI Lines    Fare 2    DOM
    Verify Tax Remark Is Written In The RI Lines    Fare 3    INT
    Verify GST Remark Is Written In The RI Lines If Applicable    Fare 2
    Verify Specific Remark Is Written X Times In The PNR    TAX:    3
    Verify Specific Remark Is Written X Times In The PNR    GST:    1

[AB AU] Verify That GST Amount Is Included In Total Taxes If Route Code Is Not DOM (Domestic)
    [Tags]    citi    us1251
    Retrieve PNR    ${current_pnr}
    Click Amend Booking
    Click Read Booking
    Populate Fare Tab With Default Values    Fare 1
    Set LFCC Field    QF
    Verify Route Code Value Is Correct    Fare 1    DOM
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate Fare Tab With Default Values    Fare 2
    Set LFCC Field    QF
    Verify Route Code Value Is Correct    Fare 2    DOM
    Select Route Code Value    INT
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate Fare Tab With Default Values    Fare 3
    Set LFCC Field    QF
    Verify Route Code Value Is Correct    Fare 3    INT
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate All Panels (Except Given Panels If Any)    Air Fare
    Enter GDS Command    IR    IR
    Click Finish PNR
    Re-Execute Amend Booking Workflow For Verify That GST Amount Is Included In Total Taxes If Route Code Is Not DOM (Domestic) For AU If Simultaneous Change Error Is Displayed
    Retrieve PNR Details From Travelport    ${current_pnr}    *FFALL
    Get Base Fare And Tax From Galileo For Fare X Tab    Fare 1
    Get Base Fare And Tax From Galileo For Fare X Tab    Fare 2
    Get Base Fare And Tax From Galileo For Fare X Tab    Fare 3
    Retrieve PNR Details From Travelport    ${current_pnr}
    Verify Tax Remark Is Written In The RI Lines    Fare 1    DOM
    Verify Tax Remark Is Written In The RI Lines    Fare 2    INT
    Verify Tax Remark Is Written In The RI Lines    Fare 3    INT
    Verify GST Remark Is Written In The RI Lines If Applicable    Fare 1
    Verify Specific Remark Is Written X Times In The PNR    TAX:    3
    Verify Specific Remark Is Written X Times In The PNR    GST:    1
    [Teardown]    Cancel PNR Thru GDS Native    ${current_pnr}

[NB AU] Verify That GST Amount Is Included In Total Taxes If Route Code Is TTAS (Trans Tasman)
    [Tags]    citi    us1251
    Open Power Express And Retrieve Profile    ${version}    Test    u003axo    en-GB    aobsumapac    CITI APAC
    Enter GDS Command    SEM/34RP/AG
    Select GDS    Galileo
    Set Client And Traveler    Citigroup ¦ Citi AU    TEST    LEN
    Click New Booking
    Click Panel    Client Info
    Manually Set Value In Form Of Payment    VI    4444333322221111    1222
    Populate All Panels (Except Given Panels If Any)    Client Info
    Click Update PNR
    Book Flight X Months From Now    AKLWLG*NZ    01Y1    FQS1    6    7
    Book Flight X Months From Now    AKLHKG/NZ    01Y1    FQS2    6    17
    Click Read Booking
    Populate Fare Tab With Default Values    Fare 1
    Set LFCC Field    QF
    Verify Route Code Value Is Correct    Fare 1    TTAS
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate Fare Tab With Default Values    Fare 2
    Set LFCC Field    QF
    Verify Route Code Value Is Correct    Fare 2    INT
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate All Panels (Except Given Panels If Any)    Air Fare
    Click Finish PNR
    Retrieve PNR Details From Travelport    ${current_pnr}    *FFALL
    Get Base Fare And Tax From Galileo For Fare X Tab    Fare 1
    Get Base Fare And Tax From Galileo For Fare X Tab    Fare 2
    Retrieve PNR Details From Travelport    ${current_pnr}
    Verify Tax Remark Is Written In The RI Lines    Fare 1    TTAS
    Verify Tax Remark Is Written In The RI Lines    Fare 2    INT
    Verify Specific Remark Is Written X Times In The PNR    TAX:    2
    Verify Specific Remark Is Not Written In The PNR    GST:

[AB AU] Verify That GST Amount Is Included In Total Taxes If Route Code Is TTAS (Trans Tasman)
    [Tags]    citi    us1251
    Retrieve PNR    ${current_pnr}
    Click Amend Booking
    Click Read Booking
    Populate Fare Tab With Default Values    Fare 1
    Set LFCC Field    QF
    Verify Route Code Value Is Correct    Fare 1    TTAS
    Select Route Code Value    INT
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate Fare Tab With Default Values    Fare 2
    Set LFCC Field    QF
    Verify Route Code Value Is Correct    Fare 2    INT
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate All Panels (Except Given Panels If Any)    Air Fare
    Enter GDS Command    IR    IR
    Click Finish PNR
    Re-Execute Amend Booking Workflow For Verify That GST Amount Is Included In Total Taxes If Route Code Is TTAS (Trans Tasman) For AU If Simultaneous Change Error Is Displayed
    Retrieve PNR Details From Travelport    ${current_pnr}    *FFALL
    Get Base Fare And Tax From Galileo For Fare X Tab    Fare 1
    Get Base Fare And Tax From Galileo For Fare X Tab    Fare 2
    Retrieve PNR Details From Travelport    ${current_pnr}
    Verify Tax Remark Is Written In The RI Lines    Fare 1    TTAS
    Verify Tax Remark Is Written In The RI Lines    Fare 2    INT
    Verify Specific Remark Is Written X Times In The PNR    TAX:    2
    Verify Specific Remark Is Not Written In The PNR    GST:
    [Teardown]    Cancel PNR Thru GDS Native    ${current_pnr}

[NB NZ] Verify That GST Amount Is Included In Total Taxes If Route Code Is Not DOM (Domestic)
    [Tags]    citi    us1251
    Open Power Express And Retrieve Profile    ${version}    Test    U004HXC    en-GB    hcuellar    CITI APAC
    Select GDS    Galileo
    Enter Specific Command On Native GDS    SEM/34VP/AG
    Set Client And Traveler    Citigroup ¦ NZ-Citi    BEAR    HAROLD
    Click New Booking
    Click Panel    Client Info
    Manually Set Value In Form Of Payment    VI    4444333322221111    1222
    Populate All Panels (Except Given Panels If Any)    Client Info
    Click Update PNR
    Book Flight X Months From Now    AKLWLG*NZ    01Y1    FQS1    6    7
    Book Flight X Months From Now    WLGAKL/NZ    01Y1*    FQS2    6    12
    Book Flight X Months From Now    AKLHKG/NZ    01Y1*    FQS3    6    17
    Click Read Booking
    Populate Fare Tab With Default Values    Fare 1
    Set LFCC Field    NZ
    Verify Route Code Value Is Correct    Fare 1    DOM
    Select Route Code Value    INT
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate Fare Tab With Default Values    Fare 2
    Set LFCC Field    NZ
    Verify Route Code Value Is Correct    Fare 2    DOM
    Select Route Code Value    INT
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate Fare Tab With Default Values    Fare 3
    Set LFCC Field    NZ
    Verify Route Code Value Is Correct    Fare 1    INT
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate All Panels (Except Given Panels If Any)    Air Fare
    Click Finish PNR
    Retrieve PNR Details From Travelport    ${current_pnr}    *FFALL
    Get Base Fare And Tax From Galileo For Fare X Tab    Fare 1
    Get Base Fare And Tax From Galileo For Fare X Tab    Fare 2
    Get Base Fare And Tax From Galileo For Fare X Tab    Fare 3
    Retrieve PNR Details From Travelport    ${current_pnr}
    Verify Tax Remark Is Written In The RI Lines    Fare 1    INT
    Verify Tax Remark Is Written In The RI Lines    Fare 2    INT
    Verify Tax Remark Is Written In The RI Lines    Fare 3    INT
    Verify Specific Remark Is Written X Times In The PNR    TAX:    3
    Verify Specific Remark Is Not Written In The PNR    GST:

[AB NZ] Verify That GST Amount Is Included In Total Taxes If Route Code Is Not DOM (Domestic)
    [Tags]    citi    us1251
    Retrieve PNR    ${current_pnr}
    Click Amend Booking
    Click Read Booking
    Populate Fare Tab With Default Values    Fare 1
    Set LFCC Field    QF
    Verify Route Code Value Is Correct    Fare 1    DOM
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate Fare Tab With Default Values    Fare 2
    Set LFCC Field    QF
    Verify Route Code Value Is Correct    Fare 2    DOM
    Select Route Code Value    INT
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate Fare Tab With Default Values    Fare 3
    Set LFCC Field    QF
    Verify Route Code Value Is Correct    Fare 3    INT
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate All Panels (Except Given Panels If Any)    Air Fare
    Enter GDS Command    IR    IR
    Click Finish PNR
    Re-Execute Amend Booking Workflow For Verify That GST Amount Is Included In Total Taxes If Route Code Is Not DOM (Domestic) For NZ If Simultaneous Change Error Is Displayed
    Retrieve PNR Details From Travelport    ${current_pnr}    *FFALL
    Get Base Fare And Tax From Galileo For Fare X Tab    Fare 1
    Get Base Fare And Tax From Galileo For Fare X Tab    Fare 2
    Get Base Fare And Tax From Galileo For Fare X Tab    Fare 3
    Retrieve PNR Details From Travelport    ${current_pnr}
    Verify Tax Remark Is Written In The RI Lines    Fare 1    DOM
    Verify Tax Remark Is Written In The RI Lines    Fare 2    INT
    Verify Tax Remark Is Written In The RI Lines    Fare 3    INT
    Verify GST Remark Is Written In The RI Lines If Applicable    Fare 1
    Verify Specific Remark Is Written X Times In The PNR    TAX:    3
    Verify Specific Remark Is Written X Times In The PNR    GST:    1
    [Teardown]    Cancel PNR Thru GDS Native    ${current_pnr}

[NB NZ] Verify That GST Amount Is Included In Total Taxes If Route Code Is TTAS (Trans Tasman)
    [Tags]    citi    us1251
    Open Power Express And Retrieve Profile    ${version}    Test    U004HXC    en-GB    hcuellar    CITI APAC
    Select GDS    Galileo
    Enter Specific Command On Native GDS    SEM/34VP/AG
    Set Client And Traveler    Citigroup ¦ NZ-Citi    BEAR    HAROLD
    Click New Booking
    Click Panel    Client Info
    Manually Set Value In Form Of Payment    VI    4444333322221111    1222
    Populate All Panels (Except Given Panels If Any)    Client Info
    Click Update PNR
    Book Flight X Months From Now    SYDMEL/QF    01Y1    FQS1    6    7
    Book Flight X Months From Now    MELSYD/QF    01Y1    FQS2    6    12
    Click Read Booking
    Populate Fare Tab With Default Values    Fare 1
    Set LFCC Field    QF
    Verify Route Code Value Is Correct    Fare 1    TTAS
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate Fare Tab With Default Values    Fare 2
    Set LFCC Field    QF
    Verify Route Code Value Is Correct    Fare 2    TTAS
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate All Panels (Except Given Panels If Any)    Air Fare
    Click Finish PNR
    Retrieve PNR Details From Travelport    ${current_pnr}    *FFALL
    Get Base Fare And Tax From Galileo For Fare X Tab    Fare 1
    Get Base Fare And Tax From Galileo For Fare X Tab    Fare 2
    Retrieve PNR Details From Travelport    ${current_pnr}
    Verify Tax Remark Is Written In The RI Lines    Fare 1    TTAS
    Verify Tax Remark Is Written In The RI Lines    Fare 2    TTAS
    Verify Specific Remark Is Written X Times In The PNR    TAX:    2
    Verify Specific Remark Is Not Written In The PNR    GST:

[AB NZ] Verify That GST Amount Is Included In Total Taxes If Route Code Is TTAS (Trans Tasman)
    [Tags]    citi    us1251
    Retrieve PNR    ${current_pnr}
    Click Amend Booking
    Click Read Booking
    Populate Fare Tab With Default Values    Fare 1
    Set LFCC Field    QF
    Verify Route Code Value Is Correct    Fare 1    TTAS
    Select Route Code Value    INT
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate Fare Tab With Default Values    Fare 2
    Set LFCC Field    QF
    Verify Route Code Value Is Correct    Fare 2    TTAS
    Select Route Code Value    INT
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate All Panels (Except Given Panels If Any)    Air Fare
    Enter GDS Command    IR    IR
    Click Finish PNR
    Re-Execute Amend Booking Workflow For Verify That GST Amount Is Included In Total Taxes If Route Code Is TTAS (Trans Tasman) For NZ If Simultaneous Change Error Is Displayed
    Retrieve PNR Details From Travelport    ${current_pnr}    *FFALL
    Get Base Fare And Tax From Galileo For Fare X Tab    Fare 1
    Get Base Fare And Tax From Galileo For Fare X Tab    Fare 2
    Retrieve PNR Details From Travelport    ${current_pnr}
    Verify Tax Remark Is Written In The RI Lines    Fare 1    INT
    Verify Tax Remark Is Written In The RI Lines    Fare 2    INT
    Verify Specific Remark Is Written X Times In The PNR    TAX:    2
    Verify Specific Remark Is Not Written In The PNR    GST:
    [Teardown]    Cancel PNR Thru GDS Native    ${current_pnr}

[NB NZ] Verify That FARE And TAX Are Written With The Correct Amount For International, Domestic And Tasman Flights
    [Tags]    citi    us573
    Open Power Express And Retrieve Profile    ${version}    Test    u003axo    en-GB    aobsumapac    CITI APAC
    Enter GDS Command    SEM/34VP/AG
    Select GDS    Galileo
    Set Client And Traveler    Citigroup ¦ NZ-Citi    ANG    SWEE
    Set Mobile Number    1-1-1
    Click New Booking
    Click Panel    Client Info
    Select Form Of Payment    Cash
    Populate All Panels (Except Given Panels If Any)    Client Info
    Click Update PNR
    Book Flight X Months From Now    AKLWLG*NZ    01Y1    FQS1    6    7
    Book Flight X Months From Now    MELAKL/NZ    01Y1*    FQS2    6    12
    Book Flight X Months From Now    AKLHKG/NZ    01Y1*    FQS3    6    17
    Click Read Booking
    Populate Fare Tab With Default Values    Fare 1
    Set LFCC Field    QF
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate Fare Tab With Default Values    Fare 2
    Set LFCC Field    QF
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate Fare Tab With Default Values    Fare 3
    Set LFCC Field    QF
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Click Add Alternate Fare
    Populate Alternate Fare Details Using Copy Air Button    YB    555    NA - Published Fare
    Click Fare Tab    Fare 1
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Click Fare Tab    Fare 2
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Click Fare Tab    Fare 3
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate All Panels (Except Given Panels If Any)    Air Fare
    Click Finish PNR
    Retrieve PNR Details From Travelport    ${current_pnr}    *FFALL
    Get Base Fare And Tax From Galileo For Fare X Tab    Fare 1
    Get Fare Amount Value For Fare X Tab    Fare 1
    Get Base Fare And Tax From Galileo For Fare X Tab    Fare 2
    Get Fare Amount Value For Fare X Tab    Fare 2
    Get Base Fare And Tax From Galileo For Fare X Tab    Fare 3
    Get Fare Amount Value For Fare X Tab    Fare 3
    Retrieve PNR Details From Travelport    ${current_pnr}
    Verify Fare Remark Is Written In The RI Lines    Fare 1
    Verify Fare Remark Is Written In The RI Lines    Fare 2
    Verify Fare Remark Is Written In The RI Lines    Fare 3
    Verify Tax Remark Is Written In The RI Lines    Fare 1    DOM
    Verify Tax Remark Is Written In The RI Lines    Fare 2    TTAS
    Verify Tax Remark Is Written In The RI Lines    Fare 3    INT
    Verify Specific Remark Is Written X Times In The PNR    FARE: NZD    3
    Verify Specific Remark Is Written X Times In The PNR    TAX: NZD    3

[AB NZ] Verify That FARE And TAX Are Written With The Correct Amount For International, Domestic And Tasman Flights
    [Tags]    citi    us573
    Retrieve PNR    ${current_pnr}
    Click Amend Booking
    Click Read Booking
    Populate Fare Tab With Default Values    Fare 1
    Set LFCC Field    QF
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Set Mark-up Percentage Field    2
    Populate Fare Tab With Default Values    Fare 2
    Set LFCC Field    QF
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Set Mark-Up Amount Field    20
    Populate Fare Tab With Default Values    Fare 3
    Set LFCC Field    QF
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Set Mark-up Percentage Field    3.00
    Populate All Panels (Except Given Panels If Any)    Air Fare
    Click Finish PNR
    Re-Execute Amend Booking Workflow For Verify That FARE And TAX Are Written With The Correct Amount For International, Domestic And Tasman Flights For NZ If Simultaneous Change Error Is Displayed
    Retrieve PNR Details From Travelport    ${current_pnr}    *FFALL
    Get Base Fare And Tax From Galileo For Fare X Tab    Fare 1
    Get Fare Amount Value For Fare X Tab    Fare 1
    Get Base Fare And Tax From Galileo For Fare X Tab    Fare 2
    Get Fare Amount Value For Fare X Tab    Fare 2
    Get Base Fare And Tax From Galileo For Fare X Tab    Fare 3
    Get Fare Amount Value For Fare X Tab    Fare 3
    Retrieve PNR Details From Travelport    ${current_pnr}
    Verify Fare Remark Is Written In The RI Lines    Fare 1
    Verify Fare Remark Is Written In The RI Lines    Fare 2
    Verify Fare Remark Is Written In The RI Lines    Fare 3
    Verify Tax Remark Is Written In The RI Lines    Fare 1    DOM
    Verify Tax Remark Is Written In The RI Lines    Fare 2    TTAS
    Verify Tax Remark Is Written In The RI Lines    Fare 3    INT
    Verify Specific Remark Is Written X Times In The PNR    FARE: NZD    3
    Verify Specific Remark Is Written X Times In The PNR    TAX: NZD    3
    [Teardown]    Cancel PNR Thru GDS Native    ${current_pnr}

[NB AU] Verify That FARE And TAX Are Written With The Correct Amount For International, Domestic And Tasman Flights
    [Tags]    citi    us573
    Open Power Express And Retrieve Profile    ${version}    Test    u003axo    en-GB    aobsumapac    CITI APAC
    Enter GDS Command    SEM/34RP/AG
    Select GDS    Galileo
    Set Client And Traveler    Citigroup ¦ Citi AU    TEST    LEN
    Click New Booking
    Click Panel    Client Info
    Select Form Of Payment    Cash
    Populate All Panels (Except Given Panels If Any)    Client Info
    Click Update PNR
    Book Flight X Months From Now    SYDMEL/QF    01Y1    FQS1    6    7
    Book Flight X Months From Now    MELAKL/QF    01Y1    FQS2    6    12
    Book Flight X Months From Now    AKLHKG/NZ    01Y1    FQS3    6    17
    Click Read Booking
    Populate Fare Tab With Default Values    Fare 1
    Set LFCC Field    QF
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate Fare Tab With Default Values    Fare 2
    Set LFCC Field    QF
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate Fare Tab With Default Values    Fare 3
    Set LFCC Field    QF
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Click Add Alternate Fare
    Populate Alternate Fare Details Using Copy Air Button    YB    555    NA - Published Fare
    Populate All Panels (Except Given Panels If Any)    Air Fare
    Click Finish PNR
    Retrieve PNR Details From Travelport    ${current_pnr}    *FFALL
    Get Base Fare And Tax From Galileo For Fare X Tab    Fare 1
    Get Fare Amount Value For Fare X Tab    Fare 1
    Get Base Fare And Tax From Galileo For Fare X Tab    Fare 2
    Get Fare Amount Value For Fare X Tab    Fare 2
    Get Base Fare And Tax From Galileo For Fare X Tab    Fare 3
    Get Fare Amount Value For Fare X Tab    Fare 3
    Retrieve PNR Details From Travelport    ${current_pnr}
    Verify Fare Remark Is Written In The RI Lines    Fare 1
    Verify Fare Remark Is Written In The RI Lines    Fare 2
    Verify Fare Remark Is Written In The RI Lines    Fare 3
    Verify Tax Remark Is Written In The RI Lines    Fare 1    DOM
    Verify Tax Remark Is Written In The RI Lines    Fare 2    TTAS
    Verify Tax Remark Is Written In The RI Lines    Fare 3    INT
    Verify Specific Remark Is Written X Times In The PNR    FARE: AUD    3
    Verify Specific Remark Is Written X Times In The PNR    TAX: AUD    3

[AB AU] Verify That FARE And TAX Are Written With The Correct Amount For International, Domestic And Tasman Flights
    [Tags]    citi    us573
    Retrieve PNR    ${current_pnr}
    Click Amend Booking
    Click Read Booking
    Populate Fare Tab With Default Values    Fare 1
    Set LFCC Field    QF
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Set Mark-up Percentage Field    2
    Populate Fare Tab With Default Values    Fare 2
    Set LFCC Field    QF
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Set Mark-Up Amount Field    20
    Populate Fare Tab With Default Values    Fare 3
    Set LFCC Field    QF
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Set Mark-up Percentage Field    3.00
    Populate All Panels (Except Given Panels If Any)    Air Fare
    Click Finish PNR
    Re-Execute Amend Booking Workflow For Verify That FARE And TAX Are Written With The Correct Amount For International, Domestic And Tasman Flights For AU If Simultaneous Change Error Is Displayed
    Retrieve PNR Details From Travelport    ${current_pnr}    *FFALL
    Get Base Fare And Tax From Galileo For Fare X Tab    Fare 1
    Get Fare Amount Value For Fare X Tab    Fare 1
    Get Base Fare And Tax From Galileo For Fare X Tab    Fare 2
    Get Fare Amount Value For Fare X Tab    Fare 2
    Get Base Fare And Tax From Galileo For Fare X Tab    Fare 3
    Get Fare Amount Value For Fare X Tab    Fare 3
    Retrieve PNR Details From Travelport    ${current_pnr}
    Verify Fare Remark Is Written In The RI Lines    Fare 1
    Verify Fare Remark Is Written In The RI Lines    Fare 2
    Verify Fare Remark Is Written In The RI Lines    Fare 3
    Verify Tax Remark Is Written In The RI Lines    Fare 1    DOM
    Verify Tax Remark Is Written In The RI Lines    Fare 2    TTAS
    Verify Tax Remark Is Written In The RI Lines    Fare 3    INT
    Verify Specific Remark Is Written X Times In The PNR    FARE: AUD    3
    Verify Specific Remark Is Written X Times In The PNR    TAX: AUD    3
    [Teardown]    Cancel PNR Thru GDS Native    ${current_pnr}

[NB SG] Verify That FARE And TAX Are Written With The Correct Amount For International, Domestic And Tasman Flights
    [Tags]    citi    us573
    Open Power Express And Retrieve Profile    ${version}    Test    u003axo    en-GB    aobsumapac    CITI APAC
    Select GDS    Galileo
    Enter Specific Command On Native GDS    I    SEM/781Q/AG
    Enter GDS Command    SEM/781Q/AG
    Set Client And Traveler    Citigroup ¦ SG-Citigroup    Test    Albert
    Click New Booking
    Click Panel    Client Info
    Select Form Of Payment    Cash
    Populate All Panels (Except Given Panels If Any)    Client Info
    Book Flight X Months From Now    SINSYD/QF    01Y1    FQS1    6    7
    Book Flight X Months From Now    SYDMEL/QF    01Y1    FQS2    6    12
    Click Read Booking
    Populate Fare Tab With Default Values    Fare 1
    Set LFCC Field    QF
    Select Fare Type    Published Fare
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate Fare Tab With Default Values    Fare 2
    Set LFCC Field    QF
    Select Fare Type    Published Fare
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Click Add Alternate Fare
    Populate Alternate Fare Details Using Copy Air Button    YB    555    YC - Economy Client Fare
    Click Fare Tab    Fare 1
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Click Fare Tab    Fare 2
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate All Panels (Except Given Panels If Any)    Air Fare
    Click Finish PNR
    Retrieve PNR Details From Travelport    ${current_pnr}    *FFALL
    Get Base Fare And Tax From Galileo For Fare X Tab    Fare 1
    Get Fare Amount Value For Fare X Tab    Fare 1
    Get Base Fare And Tax From Galileo For Fare X Tab    Fare 2
    Get Fare Amount Value For Fare X Tab    Fare 2
    Retrieve PNR Details From Travelport    ${current_pnr}
    Verify Fare Remark Is Written In The RI Lines    Fare 1
    Verify Fare Remark Is Written In The RI Lines    Fare 2
    Verify Tax Remark Is Written In The RI Lines    Fare 1    INT
    Verify Tax Remark Is Written In The RI Lines    Fare 2    INT
    Verify Specific Remark Is Written X Times In The PNR    FARE: SGD    2
    Verify Specific Remark Is Written X Times In The PNR    TAX: SGD    2

[AB SG] Verify That FARE And TAX Are Written With The Correct Amount For International, Domestic And Tasman Flights
    [Tags]    citi    us573
    Retrieve PNR    ${current_pnr}
    Click Amend Booking
    Click Read Booking
    Populate Fare Tab With Default Values    Fare 1
    Set LFCC Field    QF
    Select Fare Type    Published Fare
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Set Mark-up Percentage Field    2
    Populate Fare Tab With Default Values    Fare 2
    Set LFCC Field    QF
    Select Fare Type    Published Fare
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Set Mark-Up Amount Field    20
    Populate All Panels (Except Given Panels If Any)    Air Fare
    Click Finish PNR
    Re-Execute Amend Booking Workflow For Verify That FARE And TAX Are Written With The Correct Amount For International, Domestic And Tasman Flights For SG If Simultaneous Change Error Is Displayed
    Retrieve PNR Details From Travelport    ${current_pnr}    *FFALL
    Get Base Fare And Tax From Galileo For Fare X Tab    Fare 1
    Get Fare Amount Value For Fare X Tab    Fare 1
    Get Base Fare And Tax From Galileo For Fare X Tab    Fare 2
    Get Fare Amount Value For Fare X Tab    Fare 2
    Retrieve PNR Details From Travelport    ${current_pnr}
    Verify Fare Remark Is Written In The RI Lines    Fare 1
    Verify Fare Remark Is Written In The RI Lines    Fare 2
    Verify Tax Remark Is Written In The RI Lines    Fare 1    INT
    Verify Tax Remark Is Written In The RI Lines    Fare 2    INT
    Verify Specific Remark Is Written X Times In The PNR    FARE: SGD    2
    Verify Specific Remark Is Written X Times In The PNR    TAX: SGD    2
    [Teardown]    Cancel PNR Thru GDS Native    ${current_pnr}

[NB MY] Verify That FARE Remarks Include The Calculated GST When Applicable And FOP Is CC
    [Tags]    citi    us399
    Open Power Express And Retrieve Profile    ${version}    Test    U004HXC    en-GB    hcuellar    CITI APAC
    Select GDS    Galileo
    Enter Specific Command On Native GDS    SEM/34RY/AG
    Set Client And Traveler    Citigroup ¦ MY-Citigroup    BEAR    LEN
    Click Contact Tab In Caller Panel
    Set Mobile Number    1-1-1
    Click New Booking
    Click Panel    Client Info
    Manually Set Value In Form Of Payment    VI    4444333322221111    1222
    Book Flight X Months From Now    PENKUL*MH    01Y1    FQS1    6    7
    Book Flight X Months From Now    KULPEN*MH    01Y1    FQS2    6    12
    Book Flight X Months From Now    PENSIN*MI    01Y1    FQS3    6    17
    Enter GDS Command    TMU1FS    TMU2FS    TMU3FS
    Click Read Booking
    Retrieve PNR Details From Travelport    ${current_pnr}    *FFALL
    Populate Fare Tab With Default Values    Fare 1
    Set LFCC Field    MH
    Get Route Code Value    Fare 1
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Set Nett Fare Field    500
    Calculate Fare Amount For MY    Fare 1
    Populate Fare Tab With Default Values    Fare 2
    Set LFCC Field    MH
    Get Route Code Value    Fare 2
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Calculate Fare Amount For MY    Fare 2
    Populate Fare Tab With Default Values    Fare 3
    Set LFCC Field    MI
    Get Route Code Value    Fare 3
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Calculate Fare Amount For MY    Fare 3
    Populate All Panels (Except Given Panels If Any)    Air Fare
    Click Finish PNR
    Retrieve PNR Details From Travelport    ${current_pnr}
    Verify Fare Remark Is Written In The RI Lines    Fare 1
    Verify Fare Remark Is Written In The RI Lines    Fare 2
    Verify Fare Remark Is Written In The RI Lines    Fare 3
    Verify Tax Remark Is Written In The RI Lines    Fare 1    DOM
    Verify Tax Remark Is Written In The RI Lines    Fare 2    DOM
    Verify Tax Remark Is Written In The RI Lines    Fare 3    INT
    Verify Specific Remark Is Written X Times In The PNR    FARE: ${currency}    3
    Verify Specific Remark Is Written X Times In The PNR    TAX: ${currency}    3
    Verify Specific Remark Is Not Written In The PNR    GST:

[AB MY] Verify That FARE Remarks Include The Calculated GST When Applicable And FOP Is CC
    [Tags]    citi    us399
    Retrieve PNR    ${current_pnr}
    Click Amend Booking
    Click Read Booking
    Retrieve PNR Details From Travelport    ${current_pnr}    *FFALL
    Populate Fare Tab With Default Values    Fare 1
    Set LFCC Field    MH
    Get Route Code Value    Fare 1
    Click Pricing Extras Tab
    Set Nett Fare Field    ${EMPTY}
    Select Airline Commission Percentage    5
    Calculate Fare Amount For MY    Fare 1
    Populate Fare Tab With Default Values    Fare 2
    Set LFCC Field    MH
    Get Route Code Value    Fare 2
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Set Nett Fare Field    500
    Calculate Fare Amount For MY    Fare 2
    Populate Fare Tab With Default Values    Fare 3
    Set LFCC Field    MI
    Get Route Code Value    Fare 3
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Calculate Fare Amount For MY    Fare 3
    Populate All Panels (Except Given Panels If Any)    Air Fare
    Click Finish PNR
    Enter GDS Command    IR    IR
    Re-Execute Amend Booking Workflow For Verify That FARE Remarks Include The Calculated GST When Applicable And FOP Is CC If Simultaneous Change Error Is Displayed
    Retrieve PNR Details From Travelport    ${current_pnr}
    Verify Fare Remark Is Written In The RI Lines    Fare 1
    Verify Fare Remark Is Written In The RI Lines    Fare 2
    Verify Fare Remark Is Written In The RI Lines    Fare 3
    Verify Tax Remark Is Written In The RI Lines    Fare 1    DOM
    Verify Tax Remark Is Written In The RI Lines    Fare 2    DOM
    Verify Tax Remark Is Written In The RI Lines    Fare 3    INT
    Verify Specific Remark Is Written X Times In The PNR    FARE: ${currency}    3
    Verify Specific Remark Is Written X Times In The PNR    TAX: ${currency}    3
    Verify Specific Remark Is Not Written In The PNR    GST:
    [Teardown]    Cancel PNR Thru GDS Native    ${current_pnr}

[NB MY] Verify That FARE Remarks Include The Calculated GST When Applicable And FOP Is Invoice
    [Tags]    citi    us399
    Open Power Express And Retrieve Profile    ${version}    Test    U004HXC    en-GB    hcuellar    CITI APAC
    Select GDS    Galileo
    Enter Specific Command On Native GDS    SEM/34RY/AG
    Set Client And Traveler    Citigroup ¦ MY-Citigroup    BEAR    LEN
    Click Contact Tab In Caller Panel
    Set Mobile Number    1-1-1
    Click New Booking
    Click Panel    Client Info
    Select Form Of Payment    Invoice
    Book Flight X Months From Now    PENKUL*MH    01Y1    FQS1    6    7
    Book Flight X Months From Now    KULPEN*MH    01Y1    FQS2    6    12
    Book Flight X Months From Now    PENSIN*MI    01Y1    FQS3    6    17
    Enter GDS Command    TMU1FS    TMU2FS    TMU3FS
    Click Read Booking
    Retrieve PNR Details From Travelport    ${current_pnr}    *FFALL
    Populate Fare Tab With Default Values    Fare 1
    Set LFCC Field    MH
    Get Route Code Value    Fare 1
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Set Nett Fare Field    500
    Calculate Fare Amount For MY    Fare 1
    Populate Fare Tab With Default Values    Fare 2
    Set LFCC Field    MH
    Get Route Code Value    Fare 2
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Calculate Fare Amount For MY    Fare 2
    Populate Fare Tab With Default Values    Fare 3
    Set LFCC Field    MI
    Get Route Code Value    Fare 3
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Calculate Fare Amount For MY    Fare 3
    Populate All Panels (Except Given Panels If Any)    Air Fare
    Click Finish PNR
    Retrieve PNR Details From Travelport    ${current_pnr}
    Verify Fare Remark Is Written In The RI Lines    Fare 1
    Verify Fare Remark Is Written In The RI Lines    Fare 2
    Verify Fare Remark Is Written In The RI Lines    Fare 3
    Verify Tax Remark Is Written In The RI Lines    Fare 1    DOM
    Verify Tax Remark Is Written In The RI Lines    Fare 2    DOM
    Verify Tax Remark Is Written In The RI Lines    Fare 3    INT
    Verify Specific Remark Is Written X Times In The PNR    FARE: ${currency}    3
    Verify Specific Remark Is Written X Times In The PNR    TAX: ${currency}    3
    Verify Specific Remark Is Not Written In The PNR    GST:

[AB MY] Verify That FARE Remarks Include The Calculated GST When Applicable And FOP Is Invoice
    [Tags]    citi    us399
    Retrieve PNR    ${current_pnr}
    Click Amend Booking
    Click Read Booking
    Retrieve PNR Details From Travelport    ${current_pnr}    *FFALL
    Populate Fare Tab With Default Values    Fare 1
    Set LFCC Field    MH
    Get Route Code Value    Fare 1
    Click Pricing Extras Tab
    Set Nett Fare Field    ${EMPTY}
    Select Airline Commission Percentage    5
    Calculate Fare Amount For MY    Fare 1
    Populate Fare Tab With Default Values    Fare 2
    Set LFCC Field    MH
    Get Route Code Value    Fare 2
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Set Nett Fare Field    500
    Calculate Fare Amount For MY    Fare 2
    Populate Fare Tab With Default Values    Fare 3
    Set LFCC Field    MI
    Get Route Code Value    Fare 3
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Calculate Fare Amount For MY    Fare 3
    Populate All Panels (Except Given Panels If Any)    Air Fare
    Enter GDS Command    IR    IR
    Click Finish PNR
    Re-Execute Amend Booking Workflow For Amend Booking Workflow For Verify That FARE Remarks Include The Calculated GST When Applicable And FOP Is Invoice If Simultaneous Change Error Is Displayed
    Retrieve PNR Details From Travelport    ${current_pnr}
    Verify Fare Remark Is Written In The RI Lines    Fare 1
    Verify Fare Remark Is Written In The RI Lines    Fare 2
    Verify Fare Remark Is Written In The RI Lines    Fare 3
    Verify Tax Remark Is Written In The RI Lines    Fare 1    DOM
    Verify Tax Remark Is Written In The RI Lines    Fare 2    DOM
    Verify Tax Remark Is Written In The RI Lines    Fare 3    INT
    Verify Specific Remark Is Written X Times In The PNR    FARE: ${currency}    3
    Verify Specific Remark Is Written X Times In The PNR    TAX: ${currency}    3
    Verify Specific Remark Is Not Written In The PNR    GST:
    [Teardown]    Cancel PNR Thru GDS Native    ${current_pnr}

[NB AU] Verify That Default Is Selected In Air Fare Restrictions And Correct RI Remarks Are Written To The PNR Depending On The Selected Fare Restrictions
    [Tags]    citi    us545
    Open Power Express And Retrieve Profile    ${version}    Test    U004HXC    en-GB    hcuellar    CITI APAC
    Select GDS    Galileo
    Enter Specific Command On Native GDS    SEM/34RP/AG
    Set Client And Traveler    Citigroup ¦ Citi AU    TEST    DEBORAH
    Set Mobile Number    1-1-1
    Click New Booking
    Populate All Panels (Except Given Panels If Any)    Client Info
    Click Panel    Client Info
    Manually Set Value In Form Of Payment    VI    4444333322221111    1222
    Click Update PNR
    Book Flight X Months From Now    SYDADL/QF    01Y1    FQS1    6
    Book Flight X Months From Now    ADLMEL/VA    01Y1    FQS2    6    5
    Book Flight X Months From Now    MELSIN/EK    01Y1    FQS3    6    10
    Book Flight X Months From Now    SINMNL/PR    01Y1    FQS4    6    15
    Click Read Booking
    Populate Fare Tab With Default Values    Fare 1    false    true
    Set LFCC Field    QF
    Verify Air Fare Restriction Option Is Selected By Default    Default
    Verify Default Text Is Displayed In The Default Text Field    THIS TICKET MAY BE SUBJECT TO PENALTIES OR FARE INCREASE.
    Verify Default Text Is Displayed In The Default Text Field    CHANGES/CANCELLATION MAY BE SUBJECT TO A PENALTY OR FARE INCREASE UP TO AND INCLUDING THE TOTAL COST OF THE TICKET.
    Verify Default Text Is Displayed In The Default Text Field    NO REFUND FOR UNUSED PORTION ON CERTAIN FARES.
    Verify Default Text Is Displayed In The Default Text Field    TO RETAIN VALUE OF YOUR TICKET, YOU MUST CANCEL THE RESERVATION ON OR BEFORE YOUR TICKETED DEPARTURE TIME.
    Click Pricing Extras Tab
    Select Airline Commission Percentage    0
    Populate Fare Tab With Default Values    Fare 2    false    true
    Set LFCC Field    QF
    Verify Air Fare Restriction Option Is Selected By Default    Default
    Verify Default Text Is Displayed In The Default Text Field    THIS TICKET MAY BE SUBJECT TO PENALTIES OR FARE INCREASE.
    Verify Default Text Is Displayed In The Default Text Field    CHANGES/CANCELLATION MAY BE SUBJECT TO A PENALTY OR FARE INCREASE UP TO AND INCLUDING THE TOTAL COST OF THE TICKET.
    Verify Default Text Is Displayed In The Default Text Field    NO REFUND FOR UNUSED PORTION ON CERTAIN FARES.
    Verify Default Text Is Displayed In The Default Text Field    TO RETAIN VALUE OF YOUR TICKET, YOU MUST CANCEL THE RESERVATION ON OR BEFORE YOUR TICKETED DEPARTURE TIME.
    Populate Air Fare Restrictions    Fully Flexible    Schedule change permitted free of charge    Full refund    default    Permitted    No Minimum Stay
    ...    One Year    Fare 2
    Click Pricing Extras Tab
    Select Airline Commission Percentage    0
    Populate Fare Tab With Default Values    Fare 3    false    true
    Set LFCC Field    QF
    Verify Air Fare Restriction Option Is Selected By Default    Default
    Verify Default Text Is Displayed In The Default Text Field    THIS TICKET MAY BE SUBJECT TO PENALTIES OR FARE INCREASE.
    Verify Default Text Is Displayed In The Default Text Field    CHANGES/CANCELLATION MAY BE SUBJECT TO A PENALTY OR FARE INCREASE UP TO AND INCLUDING THE TOTAL COST OF THE TICKET.
    Verify Default Text Is Displayed In The Default Text Field    NO REFUND FOR UNUSED PORTION ON CERTAIN FARES.
    Verify Default Text Is Displayed In The Default Text Field    TO RETAIN VALUE OF YOUR TICKET, YOU MUST CANCEL THE RESERVATION ON OR BEFORE YOUR TICKETED DEPARTURE TIME.
    Populate Air Fare Restrictions    Semi Flexible    5 percent    25 percent    default    Permitted    1 day
    ...    28 days    Fare 3
    Click Pricing Extras Tab
    Select Airline Commission Percentage    0
    Populate Fare Tab With Default Values    Fare 4    false    true
    Set LFCC Field    QF
    Verify Air Fare Restriction Option Is Selected By Default    Default
    Verify Default Text Is Displayed In The Default Text Field    THIS TICKET MAY BE SUBJECT TO PENALTIES OR FARE INCREASE.
    Verify Default Text Is Displayed In The Default Text Field    CHANGES/CANCELLATION MAY BE SUBJECT TO A PENALTY OR FARE INCREASE UP TO AND INCLUDING THE TOTAL COST OF THE TICKET.
    Verify Default Text Is Displayed In The Default Text Field    NO REFUND FOR UNUSED PORTION ON CERTAIN FARES.
    Verify Default Text Is Displayed In The Default Text Field    TO RETAIN VALUE OF YOUR TICKET, YOU MUST CANCEL THE RESERVATION ON OR BEFORE YOUR TICKETED DEPARTURE TIME.
    Populate Air Fare Restrictions    Non Flexible    Not permitted    Not permitted    default    Not permitted    Valid Only on Dates Booked
    ...    Valid Only on Dates Booked    Fare 4
    Click Pricing Extras Tab
    Select Airline Commission Percentage    0
    Populate All Panels (Except Given Panels If Any)    Air Fare
    Click Finish PNR
    Retrieve PNR Details From Travelport    ${current_pnr}
    #Default Text Remarks
    Verify Specific Remark Is Written X Times In The PNR    THIS TICKET MAY BE SUBJECT TO PENALTIES OR FARE INCREASE.    1
    Verify Specific Remark Is Written X Times In The PNR    CHANGES/CANCELLATION MAY BE SUBJECT TO A PENALTY OR FARE    1
    Verify Specific Remark Is Written X Times In The PNR    INCREASE UP TO AND INCLUDING THE TOTAL COST OF THE TICKET.    1
    Verify Specific Remark Is Written X Times In The PNR    NO REFUND FOR UNUSED PORTION ON CERTAIN FARES. TO RETAIN    1
    Verify Specific Remark Is Written X Times In The PNR    VALUE OF YOUR TICKET, YOU MUST CANCEL THE RESERVATION    1
    Verify Specific Remark Is Written X Times In The PNR    ON OR BEFORE YOUR TICKETED DEPARTURE TIME.    1
    #Fully Flexible Remarks
    Verify Specific Remark Is Written X Times In The PNR    CHANGES: SCHEDULE CHANGE PERMITTED FREE OF CHARGE    1
    Verify Specific Remark Is Written X Times In The PNR    CANCELLATION: FULL REFUND    1
    Verify Specific Remark Is Written In The PNR    RE ROUTE: PERMITTED
    Verify Specific Remark Is Written X Times In The PNR    VALID ON: VA    1
    Verify Specific Remark Is Written X Times In The PNR    MIN STAY: NO MINIMUM STAY    1
    Verify Specific Remark Is Written X Times In The PNR    MAX STAY: ONE YEAR    1
    #Semi Flexible Remarks
    Verify Specific Remark Is Written X Times In The PNR    CHANGES: 5 PERCENT    1
    Verify Specific Remark Is Written X Times In The PNR    CANCELLATION: 25 PERCENT    1
    Verify Specific Remark Is Written In The PNR    RE ROUTE: PERMITTED
    Verify Specific Remark Is Written X Times In The PNR    VALID ON: EK    1
    Verify Specific Remark Is Written X Times In The PNR    MIN STAY: 1 DAY    1
    Verify Specific Remark Is Written X Times In The PNR    MAX STAY: 28 DAYS    1
    #Non Flexible Remarks
    Verify Specific Remark Is Written X Times In The PNR    CHANGES: NOT PERMITTED    1
    Verify Specific Remark Is Written X Times In The PNR    CANCELLATION: NOT PERMITTED    1
    Verify Specific Remark Is Written In The PNR    RE ROUTE: NOT PERMITTED
    Verify Specific Remark Is Written X Times In The PNR    VALID ON: PR    1
    Verify Specific Remark Is Written X Times In The PNR    MIN STAY: VALID ONLY ON DATES BOOKED    1
    Verify Specific Remark Is Written X Times In The PNR    MAX STAY: VALID ONLY ON DATES BOOKED    1

[AB AU] Verify That Fare Restrictions Are Read From The RI Remarks And Pre-populated In Express As Applicable
    [Tags]    citi    us545
    Retrieve PNR    ${current_pnr}
    Click Amend Booking
    Click Read Booking
    Populate Fare Tab With Default Values    Fare 1    false    true
    Set LFCC Field    QF
    Verify Air Fare Restriction Option Is Selected By Default    Default
    Verify Default Text Is Displayed In The Default Text Field    THIS TICKET MAY BE SUBJECT TO PENALTIES OR FARE INCREASE.
    Verify Default Text Is Displayed In The Default Text Field    CHANGES/CANCELLATION MAY BE SUBJECT TO A PENALTY OR FARE INCREASE UP TO AND INCLUDING THE TOTAL COST OF THE TICKET.
    Verify Default Text Is Displayed In The Default Text Field    NO REFUND FOR UNUSED PORTION ON CERTAIN FARES.
    Verify Default Text Is Displayed In The Default Text Field    TO RETAIN VALUE OF YOUR TICKET, YOU MUST CANCEL THE RESERVATION ON OR BEFORE YOUR TICKETED DEPARTURE TIME.
    Click Pricing Extras Tab
    Select Airline Commission Percentage    0
    Populate Fare Tab With Default Values    Fare 2    false    true
    Set LFCC Field    QF
    Verify Air Fare Restriction Option Is Not Visible    Default
    Verify Air Fare Restriction Option Is Selected By Default    Semi Flexible
    Verify Air Fare Restrictions Value    Fare 2    Schedule change permitted free of charge    Full refund    ${EMPTY}    Permitted    No Minimum Stay
    ...    One Year
    Populate Air Fare Restrictions    Non Flexible    Not permitted    Not permitted    default    Not permitted    Valid Only on Dates Booked
    ...    Valid Only on Dates Booked    Fare 2
    Click Pricing Extras Tab
    Select Airline Commission Percentage    0
    Populate Fare Tab With Default Values    Fare 3    false    true
    Set LFCC Field    QF
    Verify Air Fare Restriction Option Is Not Visible    Default
    Verify Air Fare Restriction Option Is Selected By Default    Semi Flexible
    Verify Air Fare Restrictions Value    Fare 3    5 percent    25 percent    ${EMPTY}    Permitted    1 day
    ...    28 days
    Populate Air Fare Restrictions    Fully Flexible    Schedule change permitted free of charge    Full refund    default    Permitted    No Minimum Stay
    ...    One Year    Fare 3
    Click Pricing Extras Tab
    Select Airline Commission Percentage    0
    Populate Fare Tab With Default Values    Fare 4    false    true
    Set LFCC Field    QF
    Verify Air Fare Restriction Option Is Not Visible    Default
    Verify Air Fare Restriction Option Is Selected By Default    Semi Flexible
    Verify Air Fare Restrictions Value    Fare 4    Not permitted    Not permitted    ${EMPTY}    Not permitted    Valid Only on Dates Booked
    ...    Valid Only on Dates Booked
    Populate Air Fare Restrictions    Semi Flexible    5 percent    25 percent    default    Not permitted    1 day
    ...    28 days    Fare 4
    Click Pricing Extras Tab
    Select Airline Commission Percentage    0
    Populate All Panels (Except Given Panels If Any)    Air Fare
    Click Finish PNR
    Re-Execute Amend Booking Workflow For Verify That Fare Restrictions Are Read From The RI Remarks And Pre-populated In Express As Applicable For AU If Simultaneous Change Error Is Displayed
    Retrieve PNR Details From Travelport    ${current_pnr}
    #Default Text Remarks
    Verify Specific Remark Is Written X Times In The PNR    THIS TICKET MAY BE SUBJECT TO PENALTIES OR FARE INCREASE.    1
    Verify Specific Remark Is Written X Times In The PNR    CHANGES/CANCELLATION MAY BE SUBJECT TO A PENALTY OR FARE    1
    Verify Specific Remark Is Written X Times In The PNR    INCREASE UP TO AND INCLUDING THE TOTAL COST OF THE TICKET.    1
    Verify Specific Remark Is Written X Times In The PNR    NO REFUND FOR UNUSED PORTION ON CERTAIN FARES. TO RETAIN    1
    Verify Specific Remark Is Written X Times In The PNR    VALUE OF YOUR TICKET, YOU MUST CANCEL THE RESERVATION    1
    Verify Specific Remark Is Written X Times In The PNR    ON OR BEFORE YOUR TICKETED DEPARTURE TIME.    1
    #Fully Flexible Remarks
    Verify Specific Remark Is Written X Times In The PNR    CHANGES: SCHEDULE CHANGE PERMITTED FREE OF CHARGE    1
    Verify Specific Remark Is Written X Times In The PNR    CANCELLATION: FULL REFUND    1
    Verify Specific Remark Is Written In The PNR    RE ROUTE: PERMITTED
    Verify Specific Remark Is Written X Times In The PNR    VALID ON: VA    1
    Verify Specific Remark Is Written X Times In The PNR    MIN STAY: NO MINIMUM STAY    1
    Verify Specific Remark Is Written X Times In The PNR    MAX STAY: ONE YEAR    1
    #Semi Flexible Remarks
    Verify Specific Remark Is Written X Times In The PNR    CHANGES: 5 PERCENT    1
    Verify Specific Remark Is Written X Times In The PNR    CANCELLATION: 25 PERCENT    1
    Verify Specific Remark Is Written In The PNR    RE ROUTE: PERMITTED
    Verify Specific Remark Is Written X Times In The PNR    VALID ON: EK    1
    Verify Specific Remark Is Written X Times In The PNR    MIN STAY: 1 DAY    1
    Verify Specific Remark Is Written X Times In The PNR    MAX STAY: 28 DAYS    1
    #Non Flexible Remarks
    Verify Specific Remark Is Written X Times In The PNR    CHANGES: NOT PERMITTED    1
    Verify Specific Remark Is Written X Times In The PNR    CANCELLATION: NOT PERMITTED    1
    Verify Specific Remark Is Written In The PNR    RE ROUTE: NOT PERMITTED
    Verify Specific Remark Is Written X Times In The PNR    VALID ON: PR    1
    Verify Specific Remark Is Written X Times In The PNR    MIN STAY: VALID ONLY ON DATES BOOKED    1
    Verify Specific Remark Is Written X Times In The PNR    MAX STAY: VALID ONLY ON DATES BOOKED    1
    [Teardown]    #Cancel PNR Thru GDS Native    ${current_pnr}

[NB SG] Verify That Default Is Selected In Air Fare Restrictions And Correct RI Remarks Are Written To The PNR Depending On The Selected Fare Restrictions
    [Tags]    citi    us545
    Open Power Express And Retrieve Profile    ${version}    Test    U004HXC    en-GB    hcuellar    CITI APAC
    Select GDS    Galileo
    Enter Specific Command On Native GDS    I    SEM/781Q/AG
    Enter GDS Command    I    SEM/781Q/AG
    Set Client And Traveler    Citigroup ¦ SG-Citigroup    TEST    ALBERT
    Set Mobile Number    1-1-1
    Click New Booking
    Book Flight X Months From Now    SINSYD/QF    01Y1    FQS1    6
    Book Flight X Months From Now    SYDMEL/QF    01Y1    FQS2    6    5
    Book Flight X Months From Now    MELLAX/UA    01Y1    FQS3    6    10
    Book Flight X Months From Now    LAXSFO/UA    01Y2    FQS4    6    15
    Click Read Booking
    Populate Fare Tab With Default Values    Fare 1    false    true
    Select Fare Type    Published Fare
    Set LFCC Field    QF
    Verify Air Fare Restriction Option Is Selected By Default    Default
    Verify Default Text Is Displayed In The Default Text Field    THIS TICKET MAY BE SUBJECT TO PENALTIES OR FARE INCREASE.
    Verify Default Text Is Displayed In The Default Text Field    CHANGES/CANCELLATION MAY BE SUBJECT TO A PENALTY OR FARE INCREASE UP TO AND INCLUDING THE TOTAL COST OF THE TICKET.
    Verify Default Text Is Displayed In The Default Text Field    NO REFUND FOR UNUSED PORTION ON CERTAIN FARES.
    Verify Default Text Is Displayed In The Default Text Field    TO RETAIN VALUE OF YOUR TICKET, YOU MUST CANCEL THE RESERVATION ON OR BEFORE YOUR TICKETED DEPARTURE TIME.
    Click Pricing Extras Tab
    Select Airline Commission Percentage    0
    Populate Fare Tab With Default Values    Fare 2    false    true
    Select Fare Type    Published Fare
    Set LFCC Field    QF
    Verify Air Fare Restriction Option Is Selected By Default    Default
    Verify Default Text Is Displayed In The Default Text Field    THIS TICKET MAY BE SUBJECT TO PENALTIES OR FARE INCREASE.
    Verify Default Text Is Displayed In The Default Text Field    CHANGES/CANCELLATION MAY BE SUBJECT TO A PENALTY OR FARE INCREASE UP TO AND INCLUDING THE TOTAL COST OF THE TICKET.
    Verify Default Text Is Displayed In The Default Text Field    NO REFUND FOR UNUSED PORTION ON CERTAIN FARES.
    Verify Default Text Is Displayed In The Default Text Field    TO RETAIN VALUE OF YOUR TICKET, YOU MUST CANCEL THE RESERVATION ON OR BEFORE YOUR TICKETED DEPARTURE TIME.
    Populate Air Fare Restrictions    Fully Flexible    Schedule change permitted free of charge    Full refund    default    Permitted    No Minimum Stay
    ...    One Year    Fare 2
    Click Pricing Extras Tab
    Select Airline Commission Percentage    0
    Populate Fare Tab With Default Values    Fare 3    false    true
    Select Fare Type    Published Fare
    Set LFCC Field    QF
    Verify Air Fare Restriction Option Is Selected By Default    Default
    Verify Default Text Is Displayed In The Default Text Field    THIS TICKET MAY BE SUBJECT TO PENALTIES OR FARE INCREASE.
    Verify Default Text Is Displayed In The Default Text Field    CHANGES/CANCELLATION MAY BE SUBJECT TO A PENALTY OR FARE INCREASE UP TO AND INCLUDING THE TOTAL COST OF THE TICKET.
    Verify Default Text Is Displayed In The Default Text Field    NO REFUND FOR UNUSED PORTION ON CERTAIN FARES.
    Verify Default Text Is Displayed In The Default Text Field    TO RETAIN VALUE OF YOUR TICKET, YOU MUST CANCEL THE RESERVATION ON OR BEFORE YOUR TICKETED DEPARTURE TIME.
    Populate Air Fare Restrictions    Semi Flexible    5 percent    25 percent    default    Permitted    1 day
    ...    28 days    Fare 3
    Click Pricing Extras Tab
    Select Airline Commission Percentage    0
    Populate Fare Tab With Default Values    Fare 4    false    true
    Select Fare Type    Published Fare
    Set LFCC Field    QF
    Verify Air Fare Restriction Option Is Selected By Default    Default
    Verify Default Text Is Displayed In The Default Text Field    THIS TICKET MAY BE SUBJECT TO PENALTIES OR FARE INCREASE.
    Verify Default Text Is Displayed In The Default Text Field    CHANGES/CANCELLATION MAY BE SUBJECT TO A PENALTY OR FARE INCREASE UP TO AND INCLUDING THE TOTAL COST OF THE TICKET.
    Verify Default Text Is Displayed In The Default Text Field    NO REFUND FOR UNUSED PORTION ON CERTAIN FARES.
    Verify Default Text Is Displayed In The Default Text Field    TO RETAIN VALUE OF YOUR TICKET, YOU MUST CANCEL THE RESERVATION ON OR BEFORE YOUR TICKETED DEPARTURE TIME.
    Populate Air Fare Restrictions    Non Flexible    Not permitted    Not permitted    default    Not permitted    Valid Only on Dates Booked
    ...    Valid Only on Dates Booked    Fare 4
    Click Pricing Extras Tab
    Select Airline Commission Percentage    0
    Populate All Panels (Except Given Panels If Any)    Air Fare
    Click Finish PNR
    Retrieve PNR Details From Travelport    ${current_pnr}
    #Default Text Remarks
    Verify Specific Remark Is Written X Times In The PNR    THIS TICKET MAY BE SUBJECT TO PENALTIES OR FARE INCREASE.    1
    Verify Specific Remark Is Written X Times In The PNR    CHANGES/CANCELLATION MAY BE SUBJECT TO A PENALTY OR FARE    1
    Verify Specific Remark Is Written X Times In The PNR    INCREASE UP TO AND INCLUDING THE TOTAL COST OF THE TICKET.    1
    Verify Specific Remark Is Written X Times In The PNR    NO REFUND FOR UNUSED PORTION ON CERTAIN FARES. TO RETAIN    1
    Verify Specific Remark Is Written X Times In The PNR    VALUE OF YOUR TICKET, YOU MUST CANCEL THE RESERVATION    1
    Verify Specific Remark Is Written X Times In The PNR    ON OR BEFORE YOUR TICKETED DEPARTURE TIME.    1
    #Fully Flexible Remarks
    Verify Specific Remark Is Written X Times In The PNR    CHANGES: SCHEDULE CHANGE PERMITTED FREE OF CHARGE    1
    Verify Specific Remark Is Written X Times In The PNR    CANCELLATION: FULL REFUND    1
    Verify Specific Remark Is Written In The PNR    RE ROUTE: PERMITTED
    Verify Specific Remark Is Written In The PNR    VALID ON:
    Verify Specific Remark Is Written X Times In The PNR    MIN STAY: NO MINIMUM STAY    1
    Verify Specific Remark Is Written X Times In The PNR    MAX STAY: ONE YEAR    1
    #Semi Flexible Remarks
    Verify Specific Remark Is Written X Times In The PNR    CHANGES: 5 PERCENT    1
    Verify Specific Remark Is Written X Times In The PNR    CANCELLATION: 25 PERCENT    1
    Verify Specific Remark Is Written In The PNR    RE ROUTE: PERMITTED
    Verify Specific Remark Is Written In The PNR    VALID ON:
    Verify Specific Remark Is Written X Times In The PNR    MIN STAY: 1 DAY    1
    Verify Specific Remark Is Written X Times In The PNR    MAX STAY: 28 DAYS    1
    #Non Flexible Remarks
    Verify Specific Remark Is Written X Times In The PNR    CHANGES: NOT PERMITTED    1
    Verify Specific Remark Is Written X Times In The PNR    CANCELLATION: NOT PERMITTED    1
    Verify Specific Remark Is Written In The PNR    RE ROUTE: NOT PERMITTED
    Verify Specific Remark Is Written In The PNR    VALID ON:
    Verify Specific Remark Is Written X Times In The PNR    MIN STAY: VALID ONLY ON DATES BOOKED    1
    Verify Specific Remark Is Written X Times In The PNR    MAX STAY: VALID ONLY ON DATES BOOKED    1

[AB SG] Verify That Fare Restrictions Are Read From The RI Remarks And Pre-populated In Express As Applicable
    [Tags]    citi    us545
    Retrieve PNR    ${current_pnr}
    Click Amend Booking
    Click Read Booking
    Populate Fare Tab With Default Values    Fare 1    false    true
    Select Fare Type    Published Fare
    Set LFCC Field    QF
    Verify Air Fare Restriction Option Is Selected By Default    Default
    Verify Default Text Is Displayed In The Default Text Field    THIS TICKET MAY BE SUBJECT TO PENALTIES OR FARE INCREASE.
    Verify Default Text Is Displayed In The Default Text Field    CHANGES/CANCELLATION MAY BE SUBJECT TO A PENALTY OR FARE INCREASE UP TO AND INCLUDING THE TOTAL COST OF THE TICKET.
    Verify Default Text Is Displayed In The Default Text Field    NO REFUND FOR UNUSED PORTION ON CERTAIN FARES.
    Verify Default Text Is Displayed In The Default Text Field    TO RETAIN VALUE OF YOUR TICKET, YOU MUST CANCEL THE RESERVATION ON OR BEFORE YOUR TICKETED DEPARTURE TIME.
    Click Pricing Extras Tab
    Select Airline Commission Percentage    0
    Populate Fare Tab With Default Values    Fare 2    false    true
    Select Fare Type    Published Fare
    Set LFCC Field    QF
    Verify Air Fare Restriction Option Is Not Visible    Default
    Verify Air Fare Restriction Option Is Selected By Default    Semi Flexible
    Verify Air Fare Restrictions Value    Fare 2    Schedule change permitted free of charge    Full refund    ${EMPTY}    Permitted    No Minimum Stay
    ...    One Year
    Populate Air Fare Restrictions    Non Flexible    Not permitted    Not permitted    default    Not permitted    Valid Only on Dates Booked
    ...    Valid Only on Dates Booked    Fare 2
    Click Pricing Extras Tab
    Select Airline Commission Percentage    0
    Populate Fare Tab With Default Values    Fare 3    false    true
    Select Fare Type    Published Fare
    Set LFCC Field    QF
    Verify Air Fare Restriction Option Is Not Visible    Default
    Verify Air Fare Restriction Option Is Selected By Default    Semi Flexible
    Verify Air Fare Restrictions Value    Fare 3    5 percent    25 percent    ${EMPTY}    Permitted    1 day
    ...    28 days
    Populate Air Fare Restrictions    Fully Flexible    Schedule change permitted free of charge    Full refund    default    Permitted    No Minimum Stay
    ...    One Year    Fare 3
    Click Pricing Extras Tab
    Select Airline Commission Percentage    0
    Populate Fare Tab With Default Values    Fare 4    false    true
    Select Fare Type    Published Fare
    Set LFCC Field    QF
    Verify Air Fare Restriction Option Is Not Visible    Default
    Verify Air Fare Restriction Option Is Selected By Default    Semi Flexible
    Verify Air Fare Restrictions Value    Fare 4    Not permitted    Not permitted    ${EMPTY}    Not permitted    Valid Only on Dates Booked
    ...    Valid Only on Dates Booked
    Populate Air Fare Restrictions    Semi Flexible    5 percent    25 percent    default    Not permitted    1 day
    ...    28 days    Fare 4
    Click Pricing Extras Tab
    Select Airline Commission Percentage    0
    Populate All Panels (Except Given Panels If Any)    Air Fare
    Enter GDS Command    IR
    Click Finish PNR
    Re-Execute Amend Booking Workflow For Verify That Fare Restrictions Are Read From The RI Remarks And Pre-populated In Express As Applicable For SG If Simultaneous Change Error Is Displayed
    Retrieve PNR Details From Travelport    ${current_pnr}
    #Default Text Remarks
    Verify Specific Remark Is Written X Times In The PNR    THIS TICKET MAY BE SUBJECT TO PENALTIES OR FARE INCREASE.    1
    Verify Specific Remark Is Written X Times In The PNR    CHANGES/CANCELLATION MAY BE SUBJECT TO A PENALTY OR FARE    1
    Verify Specific Remark Is Written X Times In The PNR    INCREASE UP TO AND INCLUDING THE TOTAL COST OF THE TICKET.    1
    Verify Specific Remark Is Written X Times In The PNR    NO REFUND FOR UNUSED PORTION ON CERTAIN FARES. TO RETAIN    1
    Verify Specific Remark Is Written X Times In The PNR    VALUE OF YOUR TICKET, YOU MUST CANCEL THE RESERVATION    1
    Verify Specific Remark Is Written X Times In The PNR    ON OR BEFORE YOUR TICKETED DEPARTURE TIME.    1
    #Fully Flexible Remarks
    Verify Specific Remark Is Written X Times In The PNR    CHANGES: SCHEDULE CHANGE PERMITTED FREE OF CHARGE    1
    Verify Specific Remark Is Written X Times In The PNR    CANCELLATION: FULL REFUND    1
    Verify Specific Remark Is Written In The PNR    RE ROUTE: PERMITTED
    Verify Specific Remark Is Written In The PNR    VALID ON:
    Verify Specific Remark Is Written X Times In The PNR    MIN STAY: NO MINIMUM STAY    1
    Verify Specific Remark Is Written X Times In The PNR    MAX STAY: ONE YEAR    1
    #Semi Flexible Remarks
    Verify Specific Remark Is Written X Times In The PNR    CHANGES: 5 PERCENT    1
    Verify Specific Remark Is Written X Times In The PNR    CANCELLATION: 25 PERCENT    1
    Verify Specific Remark Is Written In The PNR    RE ROUTE: PERMITTED
    Verify Specific Remark Is Written In The PNR    VALID ON:
    Verify Specific Remark Is Written X Times In The PNR    MIN STAY: 1 DAY    1
    Verify Specific Remark Is Written X Times In The PNR    MAX STAY: 28 DAYS    1
    #Non Flexible Remarks
    Verify Specific Remark Is Written X Times In The PNR    CHANGES: NOT PERMITTED    1
    Verify Specific Remark Is Written X Times In The PNR    CANCELLATION: NOT PERMITTED    1
    Verify Specific Remark Is Written In The PNR    RE ROUTE: NOT PERMITTED
    Verify Specific Remark Is Written In The PNR    VALID ON:
    Verify Specific Remark Is Written X Times In The PNR    MIN STAY: VALID ONLY ON DATES BOOKED    1
    Verify Specific Remark Is Written X Times In The PNR    MAX STAY: VALID ONLY ON DATES BOOKED    1
    [Teardown]    Cancel PNR Thru GDS Native    ${current_pnr}

*** Keywords ***
Amend Booking Workflow For Verify That GST Amount Is Included In Total Taxes If Route Code Is TTAS (Trans Tasman) For NZ
    Retrieve PNR    ${current_pnr}
    Click Amend Booking
    Click Read Booking
    Populate Fare Tab With Default Values    Fare 1
    Set LFCC Field    QF
    Verify Route Code Value Is Correct    Fare 1    DOM
    SeFlect Route Code Value    INT
    lick Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate Fare Tab With Default Values    Fare 2
    Set LFCC Field    QF
    Verify Route Code Value Is Correct    Fare 2    DOM
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate Fare Tab With Default Values    Fare 3
    Set LFCC Field    QF
    Verify Route Code Value Is Correct    Fare 3    INT
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate All Panels (Except Given Panels If Any)    Air Fare
    Enter GDS Command    IR    IR
    Click Finish PNR

Amend Booking Workflow For Verify That GST Amount Is Included In Total Taxes If Route Code Is Not DOM (Domestic) For NZ
    Retrieve PNR    ${current_pnr}
    Click Amend Booking
    Click Read Booking
    Populate Fare Tab With Default Values    Fare 1
    Set LFCC Field    QF
    Verify Route Code Value Is Correct    Fare 1    DOM
    Select Route Code Value    INT
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate Fare Tab With Default Values    Fare 2
    Set LFCC Field    QF
    Verify Route Code Value Is Correct    Fare 2    DOM
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate Fare Tab With Default Values    Fare 3
    Set LFCC Field    QF
    Verify Route Code Value Is Correct    Fare 3    INT
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate All Panels (Except Given Panels If Any)    Air Fare
    Enter GDS Command    IR    IR
    Click Finish PNR

Amend Booking Workflow For Verify That GST Amount Is Included In Total Taxes If Route Code Is TTAS (Trans Tasman) For AU
    Retrieve PNR    ${current_pnr}
    Click Amend Booking
    Click Read Booking
    Populate Fare Tab With Default Values    Fare 1
    Set LFCC Field    QF
    Verify Route Code Value Is Correct    Fare 1    DOM
    SeFlect Route Code Value    INT
    lick Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate Fare Tab With Default Values    Fare 2
    Set LFCC Field    QF
    Verify Route Code Value Is Correct    Fare 2    DOM
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate Fare Tab With Default Values    Fare 3
    Set LFCC Field    QF
    Verify Route Code Value Is Correct    Fare 3    INT
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate All Panels (Except Given Panels If Any)    Air Fare
    Enter GDS Command    IR    IR
    Click Finish PNR

Amend Booking Workflow For Verify That GST Amount Is Included In Total Taxes If Route Code Is Not DOM (Domestic) For AU
    Retrieve PNR    ${current_pnr}
    Click Amend Booking
    Click Read Booking
    Populate Fare Tab With Default Values    Fare 1
    Set LFCC Field    QF
    Verify Route Code Value Is Correct    Fare 1    DOM
    Select Route Code Value    INT
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate Fare Tab With Default Values    Fare 2
    Set LFCC Field    QF
    Verify Route Code Value Is Correct    Fare 2    DOM
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate Fare Tab With Default Values    Fare 3
    Set LFCC Field    QF
    Verify Route Code Value Is Correct    Fare 3    INT
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate All Panels (Except Given Panels If Any)    Air Fare
    Enter GDS Command    IR    IR
    Click Finish PNR

Amend Booking Workflow For Verify That Correct Offline Transaction Fee Remarks Are Written In The DI and RI Lines For Domestic Or Internation Flight For MY
    Retrieve PNR    ${current_pnr}
    Click Amend Booking
    Click Read Booking
    Populate Fare Tab With Default Values    Fare 1
    Set LFCC Field    MH
    Get Route Code Value    Fare 1
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Verify Transaction Fee Amount Is Retrieved In Pricing Extras    Fare 1    MY    Offline    Non-OBT
    Populate Fare Tab With Default Values    Fare 2
    Set LFCC Field    MH
    Get Route Code Value    Fare 2
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Verify Transaction Fee Amount Is Retrieved In Pricing Extras    Fare 2    MY    Offline    Non-OBT
    Populate All Panels (Except Given Panels If Any)    Air Fare
    Enter GDS Command    IR    IR
    Click Finish PNR

Amend Booking Workflow For Verify That Correct Offline Transaction Fee Remarks Are Written In The DI Lines For Domestic, Tasman Or International Flight For AU
    Retrieve PNR    ${current_pnr}
    Click Amend Booking
    Click Read Booking
    Populate Fare Tab With Default Values    Fare 1
    Set LFCC Field    QF
    Get Route Code Value    Fare 1
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Verify Transaction Fee Amount Is Retrieved In Pricing Extras    Fare 1    AU    Online    OBT
    Populate Fare Tab With Default Values    Fare 2
    Set LFCC Field    QF
    Get Route Code Value    Fare 2
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Verify Transaction Fee Amount Is Retrieved In Pricing Extras    Fare 2    AU    Online    OBT
    Populate Fare Tab With Default Values    Fare 3
    Set LFCC Field    NZ
    Get Route Code Value    Fare 3
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Verify Transaction Fee Amount Is Retrieved In Pricing Extras    Fare 3    AU    Online    OBT
    Populate All Panels (Except Given Panels If Any)    Air Fare
    Click Finish PNR

Amend Booking Workflow For Verify That Correct Offline Transaction Fee Remarks Are Written In The DI Lines For Domestic, Tasman Or International Flight For NZ
    Retrieve PNR    ${current_pnr}
    Click Amend Booking
    Click Read Booking
    Populate Fare Tab With Default Values    Fare 1
    Set Charged Fare Field    0.00
    Set LFCC Field    NZ
    Get Route Code Value    Fare 1
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Verify Transaction Fee Amount Is Retrieved In Pricing Extras    Fare 1    NZ    Offline    Non-OBT
    Populate Fare Tab With Default Values    Fare 2
    Set Charged Fare Field    0.00
    Set LFCC Field    NZ
    Get Route Code Value    Fare 2
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Verify Transaction Fee Amount Is Retrieved In Pricing Extras    Fare 2    NZ    Exchange    Non-OBT
    Populate Fare Tab With Default Values    Fare 3
    Set Charged Fare Field    0.00
    Set LFCC Field    QF
    Get Route Code Value    Fare 3
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Verify Transaction Fee Amount Is Retrieved In Pricing Extras    Fare 3    NZ    Offline    Non-OBT
    Populate All Panels (Except Given Panels If Any)    Air Fare
    Click Finish PNR

Amend Booking Workflow For Verify That FARE And TAX Are Written With The Correct Amount For International, Domestic And Tasman Flights For AU
    Retrieve PNR    ${current_pnr}
    Click Amend Booking
    Click Read Booking
    Populate Fare Tab With Default Values    Fare 1
    Set LFCC Field    QF
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Set Mark-up Percentage Field    2
    Populate Fare Tab With Default Values    Fare 2
    Set LFCC Field    QF
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Set Mark-Up Amount Field    20
    Populate Fare Tab With Default Values    Fare 3
    Set LFCC Field    QF
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Set Mark-up Percentage Field    3.00
    Populate All Panels (Except Given Panels If Any)    Air Fare
    Click Finish PNR

Amend Booking Workflow For Verify That FARE And TAX Are Written With The Correct Amount For International, Domestic And Tasman Flights For NZ
    Retrieve PNR    ${current_pnr}
    Click Amend Booking
    Click Read Booking
    Populate Fare Tab With Default Values    Fare 1
    Set LFCC Field    QF
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Set Mark-up Percentage Field    2
    Populate Fare Tab With Default Values    Fare 2
    Set LFCC Field    QF
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Set Mark-Up Amount Field    20
    Populate Fare Tab With Default Values    Fare 3
    Set LFCC Field    QF
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Set Mark-up Percentage Field    3.00
    Populate All Panels (Except Given Panels If Any)    Air Fare
    Click Finish PNR

Amend Booking Workflow For Verify That FARE And TAX Are Written With The Correct Amount For International, Domestic And Tasman Flights For SG
    Retrieve PNR    ${current_pnr}
    Click Amend Booking
    Click Read Booking
    Populate Fare Tab With Default Values    Fare 1
    Set LFCC Field    QF
    Select Fare Type    Published Fare
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Set Mark-up Percentage Field    2
    Populate Fare Tab With Default Values    Fare 2
    Set LFCC Field    QF
    Select Fare Type    Published Fare
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Set Mark-Up Amount Field    20
    Populate All Panels (Except Given Panels If Any)    Air Fare
    Click Finish PNR

Amend Booking Workflow For Verify That FARE Remarks Include The Calculated GST When Applicable And FOP Is CC
    Retrieve PNR    ${current_pnr}
    Click Amend Booking
    Click Read Booking
    Retrieve PNR Details From Travelport    ${current_pnr}    *FFALL
    Populate Fare Tab With Default Values    Fare 1
    Set LFCC Field    MH
    Click Pricing Extras Tab
    Set Nett Fare Field    ${EMPTY}
    Select Airline Commission Percentage    5
    Calculate Fare Amount For MY    Fare 1
    Populate Fare Tab With Default Values    Fare 2
    Set LFCC Field    MH
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Set Nett Fare Field    500
    Calculate Fare Amount For MY    Fare 2
    Populate Fare Tab With Default Values    Fare 3
    Set LFCC Field    MI
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Calculate Fare Amount For MY    Fare 3
    Populate All Panels (Except Given Panels If Any)    Air Fare
    Enter GDS Command    IR    IR
    Click Finish PNR

Amend Booking Workflow For Verify That FARE Remarks Include The Calculated GST When Applicable And FOP Is Invoice
    Retrieve PNR    ${current_pnr}
    Click Amend Booking
    Click Read Booking
    Retrieve PNR Details From Travelport    ${current_pnr}    *FFALL
    Populate Fare Tab With Default Values    Fare 1
    Set LFCC Field    MH
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Set Nett Fare Field    ${EMPTY}
    Calculate Fare Amount For MY    Fare 1
    Populate Fare Tab With Default Values    Fare 2
    Set LFCC Field    MH
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Set Nett Fare Field    500
    Calculate Fare Amount For MY    Fare 2
    Populate Fare Tab With Default Values    Fare 3
    Set LFCC Field    MI
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Calculate Fare Amount For MY    Fare 3
    Populate All Panels (Except Given Panels If Any)    Air Fare
    Enter GDS Command    IR    IR
    Click Finish PNR

Amend Booking Workflow For Verify That Fare Restrictions Are Read From The RI Remarks And Pre-populated In Express As Applicable For AU
    Retrieve PNR    ${current_pnr}
    Click Amend Booking
    Click Read Booking
    Populate Fare Tab With Default Values    Fare 1    false    true
    Set LFCC Field    QF
    Verify Air Fare Restriction Option Is Selected By Default    Default
    Verify Default Text Is Displayed In The Default Text Field    THIS TICKET MAY BE SUBJECT TO PENALTIES OR FARE INCREASE.
    Verify Default Text Is Displayed In The Default Text Field    CHANGES/CANCELLATION MAY BE SUBJECT TO A PENALTY OR FARE INCREASE UP TO AND INCLUDING THE TOTAL COST OF THE TICKET.
    Verify Default Text Is Displayed In The Default Text Field    NO REFUND FOR UNUSED PORTION ON CERTAIN FARES.
    Verify Default Text Is Displayed In The Default Text Field    TO RETAIN VALUE OF YOUR TICKET, YOU MUST CANCEL THE RESERVATION ON OR BEFORE YOUR TICKETED DEPARTURE TIME.
    Click Pricing Extras Tab
    Select Airline Commission Percentage    0
    Populate Fare Tab With Default Values    Fare 2    false    true
    Set LFCC Field    QF
    Verify Air Fare Restriction Option Is Not Visible    Default
    Verify Air Fare Restriction Option Is Selected By Default    Semi Flexible
    Verify Air Fare Restrictions Value    Fare 2    Schedule change permitted free of charge    Full refund    ${EMPTY}    Permitted    No Minimum Stay
    ...    One Year
    Populate Air Fare Restrictions    Non Flexible    Not permitted    Not permitted    default    Not permitted    Valid Only on Dates Booked
    ...    Valid Only on Dates Booked    Fare 2
    Click Pricing Extras Tab
    Select Airline Commission Percentage    0
    Populate Fare Tab With Default Values    Fare 3    false    true
    Set LFCC Field    QF
    Verify Air Fare Restriction Option Is Not Visible    Default
    Verify Air Fare Restriction Option Is Selected By Default    Semi Flexible
    Verify Air Fare Restrictions Value    Fare 3    5 percent    25 percent    ${EMPTY}    Permitted    1 day
    ...    28 days
    Populate Air Fare Restrictions    Fully Flexible    Schedule change permitted free of charge    Full refund    default    Permitted    No Minimum Stay
    ...    One Year    Fare 3
    Click Pricing Extras Tab
    Select Airline Commission Percentage    0
    Populate Fare Tab With Default Values    Fare 4    false    true
    Set LFCC Field    QF
    Verify Air Fare Restriction Option Is Not Visible    Default
    Verify Air Fare Restriction Option Is Selected By Default    Semi Flexible
    Verify Air Fare Restrictions Value    Fare 4    Not permitted    Not permitted    ${EMPTY}    Not permitted    Valid Only on Dates Booked
    ...    Valid Only on Dates Booked
    Populate Air Fare Restrictions    Semi Flexible    5 percent    25 percent    default    Not permitted    1 day
    ...    28 days    Fare 4
    Click Pricing Extras Tab
    Select Airline Commission Percentage    0
    Populate All Panels (Except Given Panels If Any)    Air Fare
    Enter GDS Command    IR
    Click Finish PNR

Amend Booking Workflow For Verify That Fare Restrictions Are Read From The RI Remarks And Pre-populated In Express As Applicable For SG
    Retrieve PNR    ${current_pnr}
    Click Amend Booking
    Click Read Booking
    Populate Fare Tab With Default Values    Fare 1    false    true
    Select Fare Type    Published Fare
    Set LFCC Field    QF
    Verify Air Fare Restriction Option Is Selected By Default    Default
    Verify Default Text Is Displayed In The Default Text Field    THIS TICKET MAY BE SUBJECT TO PENALTIES OR FARE INCREASE.
    Verify Default Text Is Displayed In The Default Text Field    CHANGES/CANCELLATION MAY BE SUBJECT TO A PENALTY OR FARE INCREASE UP TO AND INCLUDING THE TOTAL COST OF THE TICKET.
    Verify Default Text Is Displayed In The Default Text Field    NO REFUND FOR UNUSED PORTION ON CERTAIN FARES.
    Verify Default Text Is Displayed In The Default Text Field    TO RETAIN VALUE OF YOUR TICKET, YOU MUST CANCEL THE RESERVATION ON OR BEFORE YOUR TICKETED DEPARTURE TIME.
    Click Pricing Extras Tab
    Select Airline Commission Percentage    0
    Populate Fare Tab With Default Values    Fare 2    false    true
    Select Fare Type    Published Fare
    Set LFCC Field    QF
    Verify Air Fare Restriction Option Is Not Visible    Default
    Verify Air Fare Restriction Option Is Selected By Default    Semi Flexible
    Verify Air Fare Restrictions Value    Fare 2    Schedule change permitted free of charge    Full refund    ${EMPTY}    Permitted    No Minimum Stay
    ...    One Year
    Populate Air Fare Restrictions    Non Flexible    Not permitted    Not permitted    default    Not permitted    Valid Only on Dates Booked
    ...    Valid Only on Dates Booked    Fare 2
    Click Pricing Extras Tab
    Select Airline Commission Percentage    0
    Populate Fare Tab With Default Values    Fare 3    false    true
    Select Fare Type    Published Fare
    Set LFCC Field    QF
    Verify Air Fare Restriction Option Is Not Visible    Default
    Verify Air Fare Restriction Option Is Selected By Default    Semi Flexible
    Verify Air Fare Restrictions Value    Fare 3    5 percent    25 percent    ${EMPTY}    Permitted    1 day
    ...    28 days
    Populate Air Fare Restrictions    Fully Flexible    Schedule change permitted free of charge    Full refund    default    Permitted    No Minimum Stay
    ...    One Year    Fare 3
    Click Pricing Extras Tab
    Select Airline Commission Percentage    0
    Populate Fare Tab With Default Values    Fare 4    false    true
    Select Fare Type    Published Fare
    Set LFCC Field    QF
    Verify Air Fare Restriction Option Is Not Visible    Default
    Verify Air Fare Restriction Option Is Selected By Default    Semi Flexible
    Verify Air Fare Restrictions Value    Fare 4    Not permitted    Not permitted    ${EMPTY}    Not permitted    Valid Only on Dates Booked
    ...    Valid Only on Dates Booked
    Populate Air Fare Restrictions    Semi Flexible    5 percent    25 percent    default    Not permitted    1 day
    ...    28 days    Fare 4
    Click Pricing Extras Tab
    Select Airline Commission Percentage    0
    Populate All Panels (Except Given Panels If Any)    Air Fare
    Enter GDS Command    IR
    Click Finish PNR

Amend Booking Workflow For Verify That GST Is Written With The Correct Amount For International, Domestic And Tasman For AU
    Retrieve PNR    ${current_pnr}
    Click Amend Booking
    Enter Specific Command On Native GDS    FXALL    XI
    Book Flight X Months From Now    SYDMEL/QF    01Y1    FQS1    6
    Book Flight X Months From Now    MELSYD/QF    01Y2    FQS2    6    5
    Book Flight X Months From Now    SYDBNE/QF    01Y1    FQS3    6    9
    Click Read Booking
    Populate Fare Tab With Default Values    Fare 1
    Set LFCC Field    QF
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate Fare Tab With Default Values    Fare 2
    Set LFCC Field    QF
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate Fare Tab With Default Values    Fare 3
    Set LFCC Field    QF
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate All Panels (Except Given Panels If Any)    Air Fare
    Click Finish PNR

Amend Booking Workflow For Verify That GST Is Written With The Correct Amount For International, Domestic And Tasman For NZ
    Retrieve PNR    ${current_pnr}
    Click Amend Booking
    Click Read Booking
    Populate Fare Tab With Default Values    Fare 1
    Set LFCC Field    QF
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate Fare Tab With Default Values    Fare 2
    Set LFCC Field    QF
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate Fare Tab With Default Values    Fare 3
    Set LFCC Field    QF
    Click Pricing Extras Tab
    Select Airline Commission Percentage    5
    Populate All Panels (Except Given Panels If Any)    Air Fare
    Click Finish PNR
